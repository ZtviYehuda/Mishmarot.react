==== FILE: .gitignore ====
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?


==== FILE: components.json ====
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/index.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}


==== FILE: eslint.config.js ====
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      js.configs.recommended,
      tseslint.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
  },
])


==== FILE: index.html ====
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>


==== FILE: package.json ====
{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-popover": "^1.1.15",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-tabs": "^1.1.13",
    "@tailwindcss/vite": "^4.1.18",
    "axios": "^1.13.2",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^4.1.0",
    "lucide-react": "^0.563.0",
    "next-themes": "^0.4.6",
    "react": "^19.2.0",
    "react-day-picker": "^9.13.0",
    "react-dom": "^19.2.0",
    "react-hook-form": "^7.71.1",
    "react-router-dom": "^7.13.0",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "tailwindcss": "^4.1.18",
    "zod": "^4.3.6"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/node": "^24.10.9",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "tw-animate-css": "^1.4.0",
    "typescript": "~5.9.3",
    "typescript-eslint": "^8.46.4",
    "vite": "^7.2.4"
  }
}


==== FILE: src\App.tsx ====
export default function App() {
  return (
    <div >
    </div>
  )
}


==== FILE: src\components\dashboard\AttendanceOverview.tsx ====
import {
  Card,
  CardContent,
  CardHeader,
  CardTitle,
  CardDescription,
} from "@/components/ui/card";
import type { DashboardStat } from "@/types/attendance.types";

interface AttendanceOverviewProps {
  stats: DashboardStat[];
}

export const AttendanceOverview = ({ stats }: AttendanceOverviewProps) => {
  const total = stats.reduce((acc, curr) => acc + curr.count, 0);

  return (
    <Card className="border border-slate-100 shadow-[0_2px_12px_rgba(0,0,0,0.03)] bg-white dark:bg-card dark:border-border h-full">
      <CardHeader className="pb-8">
        <div className="flex justify-between items-start">
          <div>
            <CardTitle className="text-xl font-black text-[#001e30] dark:text-white mb-1">
              פילוח נוכחות יחידתי
            </CardTitle>
            <CardDescription className="font-bold text-xs text-slate-400">
              סטטוס כוח אדם בזמן אמת
            </CardDescription>
          </div>
          <div className="h-10 w-10 flex items-center justify-center rounded-lg bg-[#eff6ff] text-[#0074ff] border border-blue-100">
            <span className="font-black text-xs">A1</span>
          </div>
        </div>
      </CardHeader>
      <CardContent>
        <div className="space-y-8 py-2">
          {stats.map((s, i) => (
            <div key={i} className="group">
              <div className="flex justify-between items-end mb-3">
                <div className="flex items-center gap-3">
                  <div
                    className="w-1.5 h-6 rounded-full shadow-sm"
                    style={{ backgroundColor: s.color }}
                  />
                  <span className="text-sm font-black text-slate-700 dark:text-slate-200">
                    {s.status_name}
                  </span>
                </div>
                <div className="flex flex-col items-end">
                  <span className="text-sm font-black text-[#001e30] dark:text-white leading-none mb-1">
                    {s.count} משרתים
                  </span>
                  <span className="text-[10px] font-bold text-slate-400 uppercase tracking-tighter">
                    {total > 0 ? Math.round((s.count / total) * 100) : 0}%
                    Distribution
                  </span>
                </div>
              </div>
              <div className="w-full h-2.5 bg-slate-50 dark:bg-slate-800 rounded-full overflow-hidden border border-slate-100 dark:border-slate-700/50">
                <div
                  className="h-full rounded-full transition-all duration-[1500ms] ease-[cubic-bezier(0.34,1.56,0.64,1)] shadow-sm"
                  style={{
                    backgroundColor: s.color,
                    width: `${total > 0 ? (s.count / total) * 100 : 0}%`,
                  }}
                />
              </div>
            </div>
          ))}
        </div>
      </CardContent>
    </Card>
  );
};


==== FILE: src\components\dashboard\BirthdayModule.tsx ====
import {
  Card,
  CardContent,
  CardHeader,
  CardTitle,
  CardDescription,
} from "@/components/ui/card";
import { Cake, Calendar, ChevronLeft } from "lucide-react";
import type { BirthdayInfo } from "@/types/attendance.types";

interface BirthdayModuleProps {
  birthdays: BirthdayInfo[];
}

export const BirthdayModule = ({ birthdays }: BirthdayModuleProps) => {
  return (
    <Card className="border border-slate-100 shadow-[0_2px_12px_rgba(0,0,0,0.03)] bg-white dark:bg-card dark:border-border h-full flex flex-col">
      <CardHeader className="pb-6">
        <div className="flex items-center gap-4">
          <div className="w-10 h-10 rounded-xl bg-orange-50 flex items-center justify-center border border-orange-100 dark:bg-orange-900/20 dark:border-orange-800 shadow-sm transition-transform hover:rotate-6">
            <Cake className="w-5 h-5 text-orange-500" />
          </div>
          <div>
            <CardTitle className="text-lg font-black text-[#001e30] dark:text-white">
              לוח אירועים
            </CardTitle>
            <CardDescription className="font-bold text-[10px] text-orange-400 uppercase tracking-widest">
              Team Milestones
            </CardDescription>
          </div>
        </div>
      </CardHeader>
      <CardContent className="flex-grow">
        <div className="space-y-3">
          {birthdays.map((b, i) => (
            <div
              key={i}
              className="flex items-center justify-between p-3 rounded-xl border border-transparent bg-slate-50/50 hover:bg-white hover:border-slate-100 hover:shadow-sm transition-all cursor-default dark:bg-slate-800/40 dark:border-transparent dark:hover:bg-slate-800 group"
            >
              <div className="flex items-center gap-3">
                <div className="w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center font-black text-xs text-[#0074ff] shadow-sm dark:bg-slate-700 dark:border-slate-600 transition-transform group-hover:scale-105">
                  {b.first_name[0]}
                  {b.last_name[0]}
                </div>
                <div className="flex flex-col">
                  <span className="text-sm font-bold text-slate-800 dark:text-white leading-none mb-1">
                    {b.first_name} {b.last_name}
                  </span>
                  <div className="flex items-center gap-1.5 text-[10px] font-bold text-slate-400">
                    <Calendar className="w-3 h-3" />
                    <span>
                      {b.day < 10 ? `0${b.day}` : b.day}.
                      {b.month < 10 ? `0${b.month}` : b.month}
                    </span>
                  </div>
                </div>
              </div>
              <ChevronLeft className="w-4 h-4 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity translate-x-2 group-hover:translate-x-0 transition-transform" />
            </div>
          ))}

          {birthdays.length === 0 && (
            <div className="flex flex-col items-center justify-center py-16 opacity-30 text-center grayscale">
              <Cake className="w-10 h-10 mb-4" strokeWidth={1} />
              <p className="text-[10px] font-black uppercase tracking-widest leading-relaxed">
                No Data Recorded
              </p>
            </div>
          )}
        </div>
      </CardContent>
      <div className="p-4 border-t border-slate-50 mt-auto dark:border-border/50">
        <button className="w-full py-2.5 rounded-lg text-[11px] font-black text-[#0074ff] bg-blue-50 border border-blue-100 hover:bg-[#0074ff] hover:text-white transition-all uppercase tracking-widest dark:bg-primary/10 dark:border-primary/20">
          Open Registry
        </button>
      </div>
    </Card>
  );
};


==== FILE: src\components\dashboard\DashboardHero.tsx ====
export const DashboardHero = () => {
  return null; // Removing the big hero entirely for a minimalist look, breadcrumbs are in the Topbar already
};


==== FILE: src\components\dashboard\StatCards.tsx ====
import { Card, CardContent } from "@/components/ui/card";
import { UserCheck, Calendar, Users, TrendingUp } from "lucide-react";
import type { DashboardStat } from "@/types/attendance.types";

interface StatCardsProps {
  stats: DashboardStat[];
}

export const StatCards = ({ stats }: StatCardsProps) => {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {stats.map((stat, idx) => (
        <Card
          key={idx}
          className="border border-slate-100 shadow-[0_2px_12px_rgba(0,0,0,0.03)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.06)] transition-all bg-white dark:bg-card dark:border-border group"
        >
          <CardContent className="p-6">
            <div className="flex justify-between items-start mb-6">
              <div className="w-11 h-11 rounded-xl bg-slate-50 flex items-center justify-center border border-slate-100 dark:bg-slate-800 dark:border-slate-700 transition-transform group-hover:scale-110">
                {stat.status_name === "נוכח" ? (
                  <UserCheck className="w-5 h-5 text-green-600" />
                ) : stat.status_name === "חופשה" ? (
                  <Calendar className="w-5 h-5 text-[#0074ff]" />
                ) : (
                  <Users className="w-5 h-5 text-slate-400 dark:text-slate-500" />
                )}
              </div>
              <div className="flex items-center gap-1.5 px-2 py-1 rounded bg-green-50/50 border border-green-100/50">
                <TrendingUp className="w-3 h-3 text-green-600" />
                <span className="text-[10px] font-bold text-green-600 uppercase">
                  Live
                </span>
              </div>
            </div>

            <div className="space-y-1">
              <div className="text-3xl font-black text-[#001e30] dark:text-white tracking-tight">
                {stat.count}
              </div>
              <div className="text-xs font-bold text-slate-400 uppercase tracking-wider">
                {stat.status_name}
              </div>
            </div>

            <div className="mt-6 flex items-center gap-2">
              <div className="flex-grow h-1.5 bg-slate-50 dark:bg-slate-800 rounded-full overflow-hidden">
                <div
                  className="h-full transition-all duration-1000 shadow-sm"
                  style={{
                    backgroundColor: stat.color || "#0074ff",
                    width: `${Math.min(100, (stat.count / 40) * 100)}%`,
                  }}
                />
              </div>
              <span className="text-[10px] font-bold text-slate-400">
                {Math.min(100, Math.round((stat.count / 40) * 100))}%
              </span>
            </div>
          </CardContent>
        </Card>
      ))}
    </div>
  );
};


==== FILE: src\components\employees\EmployeeCard.tsx ====
import React from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import type { Employee } from "@/types/employee.types";
import { cn } from "@/lib/utils";
import { User, MoreVertical } from "lucide-react";

interface EmployeeCardProps {
  employee: Employee;
  onViewDetails: (employee: Employee) => void;
}

export const EmployeeCard: React.FC<EmployeeCardProps> = ({
  employee,
  onViewDetails,
}) => {
  const getProfessionalTitle = (emp: Employee) => {
    if (emp.is_admin && emp.is_commander) return "מנהל מערכת בכיר";
    if (emp.is_commander) {
      if (emp.department_name && emp.section_name) return "ראש מדור";
      if (emp.department_name) return "ראש מחלקה";
      return "מפקד יחידה";
    }
    return "משרת";
  };

  return (
    <Card className="group hover:shadow-lg transition-all duration-200 border-slate-200 dark:border-slate-700 hover:border-[#0074ff]/30 dark:hover:border-[#0074ff]/50 bg-white dark:bg-slate-800/50">
      <CardContent className="p-5">
        <div className="flex items-start justify-between mb-4">
          <div className="flex items-center gap-3">
            <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-[#0074ff] to-[#0060d5] flex items-center justify-center text-white font-black text-sm shadow-md shadow-blue-500/20">
              {employee.first_name[0]}
              {employee.last_name[0]}
            </div>
            <div>
              <h3 className="font-black text-slate-800 dark:text-white text-base leading-tight">
                {employee.first_name} {employee.last_name}
              </h3>
              <p className="text-xs text-slate-400 font-mono mt-0.5">
                {employee.personal_number}
              </p>
            </div>
          </div>
          <Button
            variant="ghost"
            size="icon"
            className="w-8 h-8 text-slate-400 hover:text-[#0074ff] hover:bg-slate-100 dark:hover:bg-slate-700"
            onClick={() => onViewDetails(employee)}
          >
            <MoreVertical className="w-4 h-4" />
          </Button>
        </div>

        <div className="space-y-3">
          {/* Status */}
          <div className="flex items-center gap-2">
            <div
              className="w-2 h-2 rounded-full"
              style={{ backgroundColor: employee.status_color }}
            />
            <span className="text-xs font-bold text-slate-600 dark:text-slate-400">
              {employee.status_name}
            </span>
          </div>

          {/* Role Badge */}
          <div>
            <Badge
              variant="outline"
              className={cn(
                "font-bold text-[10px] border-none px-2.5 py-1",
                employee.is_commander
                  ? "bg-blue-50 text-[#0074ff] dark:bg-[#0074ff]/10"
                  : "bg-slate-100 text-slate-500 dark:bg-slate-700",
              )}
            >
              {getProfessionalTitle(employee)}
            </Badge>
          </div>

          {/* Organizational Info */}
          <div className="pt-2 border-t border-slate-100 dark:border-slate-700 space-y-1.5">
            <div className="text-xs">
              <span className="text-slate-400 font-bold">מחלקה: </span>
              <span className="text-slate-600 dark:text-slate-300 font-bold">
                {employee.department_name || "ללא מחלקה"}
              </span>
            </div>
            <div className="text-xs">
              <span className="text-slate-400 font-bold">מדור: </span>
              <span className="text-slate-600 dark:text-slate-300 font-bold">
                {employee.section_name || "ללא מדור"}
              </span>
            </div>
            <div className="text-xs">
              <span className="text-slate-400 font-bold">צוות: </span>
              <span className="text-slate-600 dark:text-slate-300 font-bold">
                {employee.team_name || "ללא צוות"}
              </span>
            </div>
          </div>

          {/* Security Clearance */}
          <div className="pt-2 border-t border-slate-100 dark:border-slate-700">
            <div className="flex items-center justify-between text-xs">
              <span className="text-slate-400 font-bold">רמת סיווג:</span>
              <Badge variant="outline" className="text-[10px] font-bold">
                {employee.security_clearance}
              </Badge>
            </div>
          </div>

          {/* Action Button */}
          <Button
            variant="outline"
            size="sm"
            className="w-full mt-3 border-slate-200 dark:border-slate-700 hover:bg-[#0074ff] hover:text-white hover:border-[#0074ff] transition-colors"
            onClick={() => onViewDetails(employee)}
          >
            <User className="w-3 h-3 ml-2" />
            צפה בפרטים
          </Button>
        </div>
      </CardContent>
    </Card>
  );
};


==== FILE: src\components\employees\EmployeeTable.tsx ====
import { useState } from "react";
import { useNavigate } from "react-router-dom";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Search, ChevronRight, ChevronLeft, Filter, User, Plus } from "lucide-react";
import type { Employee } from "@/types/employee.types";
import { cn } from "@/lib/utils";
import {
  EmployeeDetailsModal,
  FilterModal,
} from "./modals";

interface EmployeeTableProps {
  employees: Employee[];
  loading: boolean;
}

export const EmployeeTable = ({ employees, loading }: EmployeeTableProps) => {
  const navigate = useNavigate();
  const [searchTerm, setSearchTerm] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const [detailsModalOpen, setDetailsModalOpen] = useState(false);
  const [filterModalOpen, setFilterModalOpen] = useState(false);
  const [selectedEmployee, setSelectedEmployee] = useState<Employee | null>(null);
  const itemsPerPage = 10;

  // Role Logic implementation base on user request
  const getProfessionalTitle = (emp: Employee) => {
    if (emp.is_admin && emp.is_commander) return "מנהל מערכת בכיר";
    if (emp.is_commander) {
      if (emp.department_name && emp.section_name) return "ראש מדור";
      if (emp.department_name) return "ראש מחלקה";
      return "מפקד יחידה";
    }
    return "משרת";
  };

  const filteredEmployees = employees.filter((emp) => {
    const fullName = `${emp.first_name} ${emp.last_name}`.toLowerCase();
    const matchesSearch =
      fullName.includes(searchTerm.toLowerCase()) ||
      emp.personal_number.includes(searchTerm);
    return matchesSearch;
  });

  const totalPages = Math.ceil(filteredEmployees.length / itemsPerPage);
  const paginatedEmployees = filteredEmployees.slice(
    (currentPage - 1) * itemsPerPage,
    currentPage * itemsPerPage,
  );

  const handleViewDetails = (employee: Employee) => {
    setSelectedEmployee(employee);
    setDetailsModalOpen(true);
  };

  const handleEditEmployee = (employee: Employee) => {
    navigate(`/employees/edit/${employee.id}`);
  };

  return (
    <div className="space-y-5">
      {/* Search & Filter Bar */}
      <div className="flex flex-col md:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800/50 p-5 rounded-2xl shadow-sm">
        <div className="relative w-full md:w-96">
          <Search className="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400" />
          <Input
            placeholder="חיפוש לפי שם או מספר אישי..."
            className="pr-10 h-10 text-right border-slate-200 focus:ring-[#0074ff]/10 focus:border-[#0074ff]"
            value={searchTerm}
            onChange={(e) => {
              setSearchTerm(e.target.value);
              setCurrentPage(1);
            }}
          />
        </div>
        <div className="flex items-center gap-2">
          <Button
            variant="outline"
            size="sm"
            className="h-10 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"
            onClick={() => setFilterModalOpen(true)}
          >
            <Filter className="w-4 h-4 ml-2" />
            סינון מתקדם
          </Button>
          <Button
            className="h-10 bg-[#0074ff] hover:bg-[#0060d5] text-white shadow-md shadow-blue-500/20"
            onClick={() => navigate("/employees/new")}
          >
            <Plus className="w-4 h-4 ml-2" />
            הוספת משרת חדש
          </Button>
        </div>
      </div>

      {/* Main Table */}
      <div className="bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden backdrop-blur-sm">
        <Table>
          <TableHeader className="bg-gradient-to-r from-slate-50 to-slate-100/50 dark:from-slate-800 dark:to-slate-800/50">
            <TableRow className="hover:bg-transparent border-b border-slate-200 dark:border-slate-700">
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6">
                משרת
              </TableHead>
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6">
                מספר אישי
              </TableHead>
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6">
                תפקיד/סמכות
              </TableHead>
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6">
                שיוך ארגוני
              </TableHead>
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6">
                סטטוס
              </TableHead>
              <TableHead className="text-right font-semibold text-[#001e30] dark:text-white uppercase tracking-tighter text-xs h-14 px-6"></TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {loading ? (
              <TableRow>
                <TableCell
                  colSpan={6}
                  className="h-32 text-center text-right text-slate-400"
                >
                  טוען נתונים...
                </TableCell>
              </TableRow>
            ) : paginatedEmployees.length === 0 ? (
              <TableRow>
                <TableCell
                  colSpan={6}
                  className="h-32 text-center text-right text-slate-400"
                >
                  לא נמצאו משרתים התואמים את החיפוש
                </TableCell>
              </TableRow>
            ) : (
              paginatedEmployees.map((emp) => (
                <TableRow
                  key={emp.id}
                  className="group transition-all duration-200 hover:bg-slate-50/80 dark:hover:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700/50"
                >
                  <TableCell className="px-6 py-4 text-right">
                    <div className="flex items-center gap-3">
                      <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-[#0074ff] to-[#0060d5] flex items-center justify-center text-white font-semibold text-xs shadow-md shadow-blue-500/20">
                        {emp.first_name[0]}
                        {emp.last_name[0]}
                      </div>
                      <div className="flex flex-col text-right">
                        <span className="font-semibold text-slate-800 dark:text-white text-sm">
                          {emp.first_name} {emp.last_name}
                        </span>
                        <span className="text-[10px] text-slate-400 font-medium">
                          Clearance: {emp.security_clearance}
                        </span>
                      </div>
                    </div>
                  </TableCell>
                  <TableCell className="px-6 py-4 text-right font-mono text-xs text-slate-600 dark:text-slate-400 font-medium">
                    {emp.personal_number}
                  </TableCell>
                  <TableCell className="px-6 py-4 text-right">
                    <Badge
                      variant="outline"
                      className={cn(
                        "font-medium text-[10px] border-none px-2.5 py-1",
                        emp.is_commander
                          ? "bg-blue-50 text-[#0074ff] dark:bg-[#0074ff]/10"
                          : "bg-slate-100 text-slate-500 dark:bg-slate-700",
                      )}
                    >
                      {getProfessionalTitle(emp)}
                    </Badge>
                  </TableCell>
                  <TableCell className="px-6 py-4 text-right">
                    <div className="flex flex-col text-right">
                      <span className="text-xs font-semibold text-slate-700 dark:text-slate-300">
                        {emp.department_name || "ללא מחלקה"}
                      </span>
                      <span className="text-[10px] text-slate-400 font-medium">
                        {emp.section_name || "ללא מדור"} •{" "}
                        {emp.team_name || "ללא צוות"}
                      </span>
                    </div>
                  </TableCell>
                  <TableCell className="px-6 py-4 text-right">
                    <div className="flex items-center gap-2 flex-row-reverse">
                      <div
                        className="w-2 h-2 rounded-full shadow-sm"
                        style={{ backgroundColor: emp.status_color }}
                      />
                      <span className="text-xs font-medium text-slate-600 dark:text-slate-400">
                        {emp.status_name}
                      </span>
                    </div>
                  </TableCell>
                  <TableCell className="px-6 py-4 text-right">
                    <div className="flex items-center gap-2 flex-row-reverse">
                      <Button
                        variant="ghost"
                        size="icon"
                        className="w-9 h-9 text-slate-400 hover:text-[#0074ff] hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors"
                        onClick={() => handleViewDetails(emp)}
                        title="צפה בפרטים"
                      >
                        <User className="w-4 h-4" />
                      </Button>
                      <Button
                        variant="ghost"
                        size="icon"
                        className="w-9 h-9 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-slate-700 rounded-lg transition-colors"
                        onClick={() => handleEditEmployee(emp)}
                        title="ערוך"
                      >
                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </Button>
                    </div>
                  </TableCell>
                </TableRow>
              ))
            )}
          </TableBody>
        </Table>

        {/* Pagination */}
        <div className="p-5 bg-gradient-to-r from-slate-50/50 to-transparent border-t border-slate-200 dark:border-slate-700 dark:from-slate-800/30 flex flex-col md:flex-row justify-between items-center gap-4">
          <div className="text-xs font-medium text-slate-400 uppercase tracking-widest text-right">
            מציג{" "}
            {Math.min(
              filteredEmployees.length,
              (currentPage - 1) * itemsPerPage + 1,
            )}
            -{Math.min(filteredEmployees.length, currentPage * itemsPerPage)} מתוך{" "}
            {filteredEmployees.length} משרתים
          </div>
          <div className="flex items-center gap-1.5">
            <Button
              variant="outline"
              size="icon"
              className="w-9 h-9 rounded-lg border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700"
              onClick={() => setCurrentPage((prev) => Math.max(1, prev - 1))}
              disabled={currentPage === 1}
            >
              <ChevronRight className="w-4 h-4" />
            </Button>
            <div className="flex items-center gap-1.5 px-2">
              {[...Array(totalPages)].map((_, i) => (
                <button
                  key={i}
                  onClick={() => setCurrentPage(i + 1)}
                  className={cn(
                    "w-8 h-8 rounded-lg text-xs font-semibold transition-all",
                    currentPage === i + 1
                      ? "bg-[#0074ff] text-white shadow-md shadow-blue-500/20"
                      : "text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300",
                  )}
                >
                  {i + 1}
                </button>
              ))}
            </div>
            <Button
              variant="outline"
              size="icon"
              className="w-9 h-9 rounded-lg border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700"
              onClick={() =>
                setCurrentPage((prev) => Math.min(totalPages, prev + 1))
              }
              disabled={currentPage === totalPages}
            >
              <ChevronLeft className="w-4 h-4" />
            </Button>
          </div>
        </div>
      </div>

      {/* Modals */}
      <EmployeeDetailsModal
        open={detailsModalOpen}
        onOpenChange={setDetailsModalOpen}
        employee={selectedEmployee}
      />
      <FilterModal
        open={filterModalOpen}
        onOpenChange={setFilterModalOpen}
        onApply={() => {}}
      />
    </div>
  );
};


==== FILE: src\components\employees\modals\AddEmployeeModal.tsx ====
import React, { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import type { CreateEmployeePayload } from "@/types/employee.types";
import { Loader2 } from "lucide-react";

interface AddEmployeeModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  onAdd: (payload: CreateEmployeePayload) => Promise<boolean>;
}

export const AddEmployeeModal: React.FC<AddEmployeeModalProps> = ({
  open,
  onOpenChange,
  onAdd,
}) => {
  const [loading, setLoading] = useState(false);
  const [formData, setFormData] = useState<CreateEmployeePayload>({
    first_name: "",
    last_name: "",
    personal_number: "",
    national_id: "",
    phone_number: "",
    city: "",
    birth_date: "",
    enlistment_date: "",
    team_id: undefined,
    is_commander: false,
    is_admin: false,
    security_clearance: 0,
    police_license: false,
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    const success = await onAdd(formData);
    setLoading(false);
    if (success) {
      onOpenChange(false);
      setFormData({
        first_name: "",
        last_name: "",
        personal_number: "",
        national_id: "",
        phone_number: "",
        city: "",
        birth_date: "",
        enlistment_date: "",
        team_id: undefined,
        is_commander: false,
        is_admin: false,
        security_clearance: 0,
        police_license: false,
      });
    }
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-2xl max-h-[90vh] overflow-y-auto">
        <DialogHeader className="text-right">
          <DialogTitle className="text-2xl font-semibold  text-right text-[#001e30] dark:text-white">
            הוספת משרת חדש
          </DialogTitle>
          <DialogDescription className="text-right">
            מלא את הפרטים הבאים כדי להוסיף משרת חדש למערכת
          </DialogDescription>
        </DialogHeader>

        <form onSubmit={handleSubmit} className="space-y-4">
          <div className="grid grid-cols-2 gap-4">
            <div className="space-y-2 text-right">
              <Label htmlFor="first_name" className="text-sm font-medium text-right">
                שם פרטי *
              </Label>
              <Input
                id="first_name"
                value={formData.first_name}
                onChange={(e) =>
                  setFormData({ ...formData, first_name: e.target.value })
                }
                required
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
            <div className="space-y-2 text-right">
              <Label htmlFor="last_name" className="text-sm font-medium text-right">
                שם משפחה *
              </Label>
              <Input
                id="last_name"
                value={formData.last_name}
                onChange={(e) =>
                  setFormData({ ...formData, last_name: e.target.value })
                }
                required
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4">
            <div className="space-y-2 text-right">
              <Label htmlFor="personal_number" className="text-sm font-medium text-right">
                מספר אישי *
              </Label>
              <Input
                id="personal_number"
                value={formData.personal_number}
                onChange={(e) =>
                  setFormData({ ...formData, personal_number: e.target.value })
                }
                required
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
            <div className="space-y-2 text-right">
              <Label htmlFor="national_id" className="text-sm font-medium text-right">
                תעודת זהות *
              </Label>
              <Input
                id="national_id"
                value={formData.national_id}
                onChange={(e) =>
                  setFormData({ ...formData, national_id: e.target.value })
                }
                required
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4">
            <div className="space-y-2 text-right">
              <Label htmlFor="phone_number" className="text-sm font-medium text-right">
                מספר טלפון
              </Label>
              <Input
                id="phone_number"
                type="tel"
                value={formData.phone_number}
                onChange={(e) =>
                  setFormData({ ...formData, phone_number: e.target.value })
                }
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
            <div className="space-y-2 text-right">
              <Label htmlFor="city" className="text-sm font-medium text-right">
                עיר
              </Label>
              <Input
                id="city"
                value={formData.city}
                onChange={(e) =>
                  setFormData({ ...formData, city: e.target.value })
                }
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4">
            <div className="space-y-2 text-right">
              <Label htmlFor="birth_date" className="text-sm font-medium text-right">
                תאריך לידה
              </Label>
              <Input
                id="birth_date"
                type="date"
                value={formData.birth_date}
                onChange={(e) =>
                  setFormData({ ...formData, birth_date: e.target.value })
                }
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
            <div className="space-y-2 text-right">
              <Label htmlFor="enlistment_date" className="text-sm font-medium text-right">
                תאריך גיוס
              </Label>
              <Input
                id="enlistment_date"
                type="date"
                value={formData.enlistment_date}
                onChange={(e) =>
                  setFormData({ ...formData, enlistment_date: e.target.value })
                }
                className="border-slate-200 focus:border-[#0074ff] text-right"
              />
            </div>
          </div>

          <DialogFooter className="gap-2 sm:gap-0">
            <Button
              type="button"
              variant="outline"
              onClick={() => onOpenChange(false)}
              disabled={loading}
              className="border-slate-200"
            >
              ביטול
            </Button>
            <Button
              type="submit"
              disabled={loading}
              className="bg-[#0074ff] hover:bg-[#0060d5] text-white"
            >
              {loading ? (
                <>
                  <Loader2 className="w-4 h-4 ml-2 animate-spin" />
                  מוסיף...
                </>
              ) : (
                "הוסף משרת"
              )}
            </Button>
          </DialogFooter>
        </form>
      </DialogContent>
    </Dialog>
  );
};


==== FILE: src\components\employees\modals\EmployeeDetailsModal.tsx ====
import React from "react";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Badge } from "@/components/ui/badge";
import type { Employee } from "@/types/employee.types";
import { cn } from "@/lib/utils";
import {
  User,
  Phone,
  MapPin,
  Calendar,
  Shield,
  Building2,
  Users,
  Award,
} from "lucide-react";

interface EmployeeDetailsModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  employee: Employee | null;
}

export const EmployeeDetailsModal: React.FC<EmployeeDetailsModalProps> = ({
  open,
  onOpenChange,
  employee,
}) => {
  if (!employee) return null;

  const getProfessionalTitle = (emp: Employee) => {
    if (emp.is_admin && emp.is_commander) return "מנהל מערכת בכיר";
    if (emp.is_commander) {
      if (emp.department_name && emp.section_name) return "ראש מדור";
      if (emp.department_name) return "ראש מחלקה";
      return "מפקד יחידה";
    }
    return "משרת";
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-3xl max-h-[90vh] overflow-y-auto">
        <DialogHeader className="text-right">
          <DialogTitle className="text-2xl font-semibold text-[#001e30] dark:text-white flex items-center gap-3 flex-row-reverse">
            <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-[#0074ff] to-[#0060d5] flex items-center justify-center text-white font-semibold text-lg">
              {employee.first_name[0]}
              {employee.last_name[0]}
            </div>
            <div className="text-right">
              <div>{employee.first_name} {employee.last_name}</div>
              <div className="text-sm font-normal text-slate-400 mt-1">
                מספר אישי: {employee.personal_number}
              </div>
            </div>
          </DialogTitle>
          <DialogDescription className="text-right">
            פרטים מלאים של המשרת
          </DialogDescription>
        </DialogHeader>

        <div className="space-y-6">
          {/* Status Badge */}
          <div className="flex items-center gap-3 p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 flex-row-reverse text-right">
            <div
              className="w-3 h-3 rounded-full"
              style={{ backgroundColor: employee.status_color }}
            />
            <span className="font-medium text-slate-700 dark:text-slate-300">
              {employee.status_name}
            </span>
            <Badge
              variant="outline"
              className={cn(
                "ml-auto font-medium text-xs border-none px-3 py-1",
                employee.is_commander
                  ? "bg-blue-50 text-[#0074ff] dark:bg-[#0074ff]/10"
                  : "bg-slate-100 text-slate-500 dark:bg-slate-800",
              )}
            >
              {getProfessionalTitle(employee)}
            </Badge>
          </div>

          {/* Personal Information */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="space-y-3 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 text-right">
              <div className="flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-3 flex-row-reverse">
                <User className="w-4 h-4" />
                פרטים אישיים
              </div>
              <div className="space-y-2 text-sm">
                <div className="flex justify-between flex-row-reverse">
                  <span className="text-slate-400">מספר אישי:</span>
                  <span className="font-mono font-medium text-slate-700 dark:text-slate-300">
                    {employee.personal_number}
                  </span>
                </div>
                {employee.phone_number && (
                  <div className="flex justify-between items-center flex-row-reverse">
                    <span className="text-slate-400 flex items-center gap-1">
                      <Phone className="w-3 h-3" />
                      טלפון:
                    </span>
                    <span className="font-medium text-slate-700 dark:text-slate-300">
                      {employee.phone_number}
                    </span>
                  </div>
                )}
                {employee.city && (
                  <div className="flex justify-between items-center flex-row-reverse">
                    <span className="text-slate-400 flex items-center gap-1">
                      <MapPin className="w-3 h-3" />
                      עיר:
                    </span>
                    <span className="font-medium text-slate-700 dark:text-slate-300">
                      {employee.city}
                    </span>
                  </div>
                )}
              </div>
            </div>

            <div className="space-y-3 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 text-right">
              <div className="flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-3 flex-row-reverse">
                <Calendar className="w-4 h-4" />
                תאריכים
              </div>
              <div className="space-y-2 text-sm">
                {employee.birth_date && (
                  <div className="flex justify-between flex-row-reverse">
                    <span className="text-slate-400">תאריך לידה:</span>
                    <span className="font-medium text-slate-700 dark:text-slate-300">
                      {new Date(employee.birth_date).toLocaleDateString("he-IL")}
                    </span>
                  </div>
                )}
                {employee.enlistment_date && (
                  <div className="flex justify-between flex-row-reverse">
                    <span className="text-slate-400">תאריך גיוס:</span>
                    <span className="font-medium text-slate-700 dark:text-slate-300">
                      {new Date(employee.enlistment_date).toLocaleDateString("he-IL")}
                    </span>
                  </div>
                )}
                {employee.discharge_date && (
                  <div className="flex justify-between flex-row-reverse">
                    <span className="text-slate-400">תאריך שחרור:</span>
                    <span className="font-medium text-slate-700 dark:text-slate-300">
                      {new Date(employee.discharge_date).toLocaleDateString("he-IL")}
                    </span>
                  </div>
                )}
              </div>
            </div>
          </div>

          {/* Organizational Information */}
          <div className="p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 text-right">
            <div className="flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-4 flex-row-reverse">
              <Building2 className="w-4 h-4" />
              שיוך ארגוני
            </div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div className="flex items-center gap-2 p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 flex-row-reverse">
                <Building2 className="w-4 h-4 text-[#0074ff]" />
                <div className="text-right">
                  <div className="text-[10px] text-slate-400 font-medium uppercase">
                    מחלקה
                  </div>
                  <div className="text-sm font-medium text-slate-700 dark:text-slate-300">
                    {employee.department_name || "ללא מחלקה"}
                  </div>
                </div>
              </div>
              <div className="flex items-center gap-2 p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 flex-row-reverse">
                <Users className="w-4 h-4 text-[#0074ff]" />
                <div className="text-right">
                  <div className="text-[10px] text-slate-400 font-medium uppercase">
                    מדור
                  </div>
                  <div className="text-sm font-medium text-slate-700 dark:text-slate-300">
                    {employee.section_name || "ללא מדור"}
                  </div>
                </div>
              </div>
              <div className="flex items-center gap-2 p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 flex-row-reverse">
                <Award className="w-4 h-4 text-[#0074ff]" />
                <div className="text-right">
                  <div className="text-[10px] text-slate-400 font-medium uppercase">
                    צוות
                  </div>
                  <div className="text-sm font-medium text-slate-700 dark:text-slate-300">
                    {employee.team_name || "ללא צוות"}
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Security Information */}
          <div className="p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 text-right">
            <div className="flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-4 flex-row-reverse">
              <Shield className="w-4 h-4" />
              אבטחה והרשאות
            </div>
            <div className="grid grid-cols-2 gap-4">
              <div className="flex justify-between items-center flex-row-reverse">
                <span className="text-slate-400 text-sm">רמת סיווג:</span>
                <Badge variant="outline" className="font-medium">
                  {employee.security_clearance}
                </Badge>
              </div>
              <div className="flex justify-between items-center flex-row-reverse">
                <span className="text-slate-400 text-sm">רישיון משטרה:</span>
                <Badge
                  variant={employee.police_license ? "default" : "outline"}
                  className="font-medium"
                >
                  {employee.police_license ? "כן" : "לא"}
                </Badge>
              </div>
              <div className="flex justify-between items-center flex-row-reverse">
                <span className="text-slate-400 text-sm">מנהל מערכת:</span>
                <Badge
                  variant={employee.is_admin ? "default" : "outline"}
                  className="font-medium"
                >
                  {employee.is_admin ? "כן" : "לא"}
                </Badge>
              </div>
              <div className="flex justify-between items-center flex-row-reverse">
                <span className="text-slate-400 text-sm">מפקד:</span>
                <Badge
                  variant={employee.is_commander ? "default" : "outline"}
                  className="font-medium"
                >
                  {employee.is_commander ? "כן" : "לא"}
                </Badge>
              </div>
            </div>
          </div>
        </div>
      </DialogContent>
    </Dialog>
  );
};


==== FILE: src\components\employees\modals\FilterModal.tsx ====
import React, { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Label } from "@/components/ui/label";
import { Input } from "@/components/ui/input";

interface FilterModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  onApply: (filters: { dept_id?: number; status?: string }) => void;
}

export const FilterModal: React.FC<FilterModalProps> = ({
  open,
  onOpenChange,
  onApply,
}) => {
  const [filters, setFilters] = useState({
    dept_id: "",
    status: "",
  });

  const handleApply = () => {
    onApply({
      dept_id: filters.dept_id ? Number(filters.dept_id) : undefined,
      status: filters.status || undefined,
    });
    onOpenChange(false);
  };

  const handleReset = () => {
    setFilters({ dept_id: "", status: "" });
    onApply({});
    onOpenChange(false);
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-md">
        <DialogHeader className="text-right">
          <DialogTitle className="text-xl font-semibold text-[#001e30] dark:text-white">
            סינון מתקדם
          </DialogTitle>
          <DialogDescription className="text-right">
            בחר את הפרמטרים לסינון המשרתים
          </DialogDescription>
        </DialogHeader>

        <div className="space-y-4">
          <div className="space-y-2 text-right">
            <Label htmlFor="dept_id" className="text-sm font-medium text-right">
              מזהה מחלקה
            </Label>
            <Input
              id="dept_id"
              type="number"
              value={filters.dept_id}
              onChange={(e) =>
                setFilters({ ...filters, dept_id: e.target.value })
              }
              placeholder="הזן מזהה מחלקה"
              className="border-slate-200 focus:border-[#0074ff] text-right"
            />
          </div>

          <div className="space-y-2 text-right">
            <Label htmlFor="status" className="text-sm font-medium text-right">
              סטטוס
            </Label>
            <Input
              id="status"
              value={filters.status}
              onChange={(e) =>
                setFilters({ ...filters, status: e.target.value })
              }
              placeholder="הזן שם סטטוס"
              className="border-slate-200 focus:border-[#0074ff] text-right"
            />
          </div>
        </div>

        <DialogFooter className="gap-2 sm:gap-0">
          <Button
            type="button"
            variant="outline"
            onClick={handleReset}
            className="border-slate-200"
          >
            איפוס
          </Button>
          <Button
            type="button"
            onClick={handleApply}
            className="bg-[#0074ff] hover:bg-[#0060d5] text-white"
          >
            החל סינון
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
};


==== FILE: src\components\employees\modals\index.ts ====
export { AddEmployeeModal } from "./AddEmployeeModal";
export { EmployeeDetailsModal } from "./EmployeeDetailsModal";
export { FilterModal } from "./FilterModal";


==== FILE: src\components\layout\MainLayout.tsx ====
import React from "react";
import { Outlet, Link, useLocation } from "react-router-dom";
import { useAuthContext } from "@/context/AuthContext";
import { useTheme } from "@/context/ThemeContext";
import {
  LayoutDashboard,
  Users,
  ArrowLeftRight,
  CalendarDays,
  Settings,
  LogOut,
  Menu,
  X,
  ShieldCheck,
  Sun,
  Moon,
} from "lucide-react";
import { cn } from "@/lib/utils";

export default function MainLayout() {
  const { user, logout } = useAuthContext();
  const { theme, toggleTheme } = useTheme();
  const location = useLocation();
  const [isSidebarOpen, setIsSidebarOpen] = React.useState(true);

  const navItems = [
    { name: "לוח בקרה", path: "/", icon: LayoutDashboard },
    { name: "ניהול עובדים", path: "/employees", icon: Users },
    { name: "בקשות העברה", path: "/transfers", icon: ArrowLeftRight },
    { name: "מעקב נוכחות", path: "/attendance", icon: CalendarDays },
    { name: "הגדרות", path: "/settings", icon: Settings },
  ];

  return (
    <div
      className="min-h-screen bg-background flex font-sans text-foreground transition-colors duration-300"
      dir="rtl"
    >
      {/* Sidebar - Official White Style */}
      <aside
        className={cn(
          "bg-white border-l border-slate-200 transition-all duration-300 flex flex-col z-50 dark:bg-card dark:border-border shadow-[4px_0_24px_rgba(0,0,0,0.02)]",
          isSidebarOpen ? "w-64" : "w-16",
        )}
      >
        {/* Sidebar Header */}
        <div className="h-16 flex items-center px-4 border-b border-slate-100 dark:border-border/50">
          <div className="flex items-center gap-3 overflow-hidden">
            <div className="w-9 h-9 rounded-full bg-[#0074ff] flex items-center justify-center shrink-0 shadow-lg shadow-blue-500/20">
              <ShieldCheck className="w-5 h-5 text-white" />
            </div>
            {isSidebarOpen && (
              <div className="flex flex-col">
                <span className="font-black text-[#001e30] text-sm tracking-tight dark:text-white leading-none">
                  gov.il
                </span>
                <span className="text-[10px] font-bold text-[#0074ff] uppercase tracking-wider mt-1">
                  פורטל יחידה
                </span>
              </div>
            )}
          </div>
        </div>

        {/* Navigation Links */}
        <nav className="flex-grow p-2.5 space-y-1">
          {navItems.map((item) => {
            const isActive = location.pathname === item.path;
            const Icon = item.icon;

            return (
              <Link
                key={item.path}
                to={item.path}
                className={cn(
                  "flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative",
                  isActive
                    ? "bg-[#eff6ff] text-[#0074ff] dark:bg-primary/10 dark:text-primary"
                    : "text-slate-500 hover:bg-slate-50 hover:text-[#0074ff] dark:text-muted-foreground dark:hover:bg-muted dark:hover:text-foreground",
                )}
              >
                <Icon
                  className={cn(
                    "w-5 h-5 shrink-0 transition-transform duration-300 group-hover:scale-105",
                    isActive
                      ? "text-[#0074ff]"
                      : "text-slate-400 group-hover:text-[#0074ff]",
                  )}
                />
                {isSidebarOpen && (
                  <span className="text-sm font-bold tracking-tight truncate">
                    {item.name}
                  </span>
                )}
                {isActive && (
                  <div className="absolute left-1 w-1 h-5 bg-[#0074ff] rounded-full" />
                )}
              </Link>
            );
          })}
        </nav>

        {/* Sidebar Footer */}
        <div className="p-3 border-t border-slate-100 dark:border-border/50 space-y-3">
          {/* User Profile Area */}
          {isSidebarOpen ? (
            <div className="flex items-center gap-3 p-2 rounded-xl bg-slate-50 border border-slate-100 dark:bg-muted/30 dark:border-border/50">
              <div className="w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-[#0074ff] font-black text-[10px] shrink-0 dark:bg-slate-800 dark:border-slate-700">
                {user?.first_name?.[0]}
                {user?.last_name?.[0]}
              </div>
              <div className="flex flex-col min-w-0">
                <span className="text-xs font-black text-[#001e30] truncate dark:text-white leading-none mb-1">
                  {user?.first_name} {user?.last_name}
                </span>
                <span className="text-[9px] font-bold text-slate-400 truncate uppercase tracking-tighter">
                  {user?.is_admin ? "Administrator" : "User"}
                </span>
              </div>
            </div>
          ) : (
            <div className="flex justify-center">
              <div className="w-9 h-9 rounded-full bg-slate-50 border border-slate-200 flex items-center justify-center text-[#0074ff] font-black text-[10px] dark:bg-slate-800 dark:border-slate-700">
                {user?.first_name?.[0]}
              </div>
            </div>
          )}

          {/* Quick Actions Row */}
          <div className="flex items-center gap-1.5 px-0.5">
            <button
              onClick={toggleTheme}
              title={theme === "dark" ? "Light Mode" : "Dark Mode"}
              className="flex-grow h-9 flex items-center justify-center rounded-lg text-slate-400 hover:bg-slate-50 hover:text-[#0074ff] transition-all border border-transparent hover:border-slate-100 dark:hover:bg-muted dark:hover:border-border"
            >
              {theme === "dark" ? (
                <Sun className="w-4 h-4" />
              ) : (
                <Moon className="w-4 h-4" />
              )}
            </button>
            <button
              onClick={logout}
              title="Logout"
              className="flex-grow h-9 flex items-center justify-center rounded-lg text-slate-400 hover:bg-red-50 hover:text-red-500 transition-all border border-transparent hover:border-red-100/50 dark:hover:bg-destructive/10"
            >
              <LogOut className="w-4 h-4" />
            </button>
          </div>
        </div>
      </aside>

      {/* Main Content Area */}
      <div className="flex-grow flex flex-col min-w-0">
        {/* Topbar - Professional governmental banner style */}
        <header className="h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between sticky top-0 z-40 dark:bg-card dark:border-border shadow-sm shadow-slate-100/50">
          <div className="flex items-center gap-4">
            <button
              onClick={() => setIsSidebarOpen(!isSidebarOpen)}
              className="w-9 h-9 flex items-center justify-center text-slate-400 hover:text-[#0074ff] hover:bg-slate-50 rounded-lg transition-all"
            >
              {isSidebarOpen ? (
                <X className="w-4 h-4" />
              ) : (
                <Menu className="w-4 h-4" />
              )}
            </button>
            <div className="h-5 w-px bg-slate-200 hidden sm:block dark:bg-border" />
            <div className="flex flex-col">
              <span className="text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1">
                Navigation Node
              </span>
              <h2 className="text-sm font-black text-[#001e30] dark:text-white">
                {location.pathname === "/"
                  ? "לוח בקרה מרכזי"
                  : navItems.find((n) => n.path === location.pathname)?.name ||
                    "דף מערכת"}
              </h2>
            </div>
          </div>

          <div className="flex items-center gap-6">
            <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-50 border border-slate-100 dark:bg-slate-800 dark:border-slate-700">
              <div className="w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.4)]" />
              <span className="text-[10px] font-bold text-slate-500 uppercase tracking-widest">
                Active Secure Hub
              </span>
            </div>
          </div>
        </header>

        {/* Content Page */}
        <main className="p-8 flex-grow overflow-auto bg-background transition-colors">
          <div className="w-full">
            <Outlet />
          </div>
        </main>
      </div>
    </div>
  );
}


==== FILE: src\components\ui\badge.tsx ====
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
        ghost: "[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
        link: "text-primary underline-offset-4 [a&]:hover:underline",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span"

  return (
    <Comp
      data-slot="badge"
      data-variant={variant}
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }


==== FILE: src\components\ui\button.tsx ====
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        xs: "h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-xs": "size-6 rounded-md [&_svg:not([class*='size-'])]:size-3",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      data-variant={variant}
      data-size={size}
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }


==== FILE: src\components\ui\calendar.tsx ====
import * as React from "react"
import {
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
} from "lucide-react"
import {
  DayPicker,
  getDefaultClassNames,
  type DayButton,
} from "react-day-picker"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/button"

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  captionLayout = "label",
  buttonVariant = "ghost",
  formatters,
  components,
  ...props
}: React.ComponentProps<typeof DayPicker> & {
  buttonVariant?: React.ComponentProps<typeof Button>["variant"]
}) {
  const defaultClassNames = getDefaultClassNames()

  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn(
        "bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",
        String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
        String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
        className
      )}
      captionLayout={captionLayout}
      formatters={{
        formatMonthDropdown: (date) =>
          date.toLocaleString("default", { month: "short" }),
        ...formatters,
      }}
      classNames={{
        root: cn("w-fit", defaultClassNames.root),
        months: cn(
          "flex gap-4 flex-col md:flex-row relative",
          defaultClassNames.months
        ),
        month: cn("flex flex-col w-full gap-4", defaultClassNames.month),
        nav: cn(
          "flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",
          defaultClassNames.nav
        ),
        button_previous: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_previous
        ),
        button_next: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_next
        ),
        month_caption: cn(
          "flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",
          defaultClassNames.month_caption
        ),
        dropdowns: cn(
          "w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",
          defaultClassNames.dropdowns
        ),
        dropdown_root: cn(
          "relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",
          defaultClassNames.dropdown_root
        ),
        dropdown: cn(
          "absolute bg-popover inset-0 opacity-0",
          defaultClassNames.dropdown
        ),
        caption_label: cn(
          "select-none font-medium",
          captionLayout === "label"
            ? "text-sm"
            : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",
          defaultClassNames.caption_label
        ),
        table: "w-full border-collapse",
        weekdays: cn("flex", defaultClassNames.weekdays),
        weekday: cn(
          "text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",
          defaultClassNames.weekday
        ),
        week: cn("flex w-full mt-2", defaultClassNames.week),
        week_number_header: cn(
          "select-none w-(--cell-size)",
          defaultClassNames.week_number_header
        ),
        week_number: cn(
          "text-[0.8rem] select-none text-muted-foreground",
          defaultClassNames.week_number
        ),
        day: cn(
          "relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",
          props.showWeekNumber
            ? "[&:nth-child(2)[data-selected=true]_button]:rounded-l-md"
            : "[&:first-child[data-selected=true]_button]:rounded-l-md",
          defaultClassNames.day
        ),
        range_start: cn(
          "rounded-l-md bg-accent",
          defaultClassNames.range_start
        ),
        range_middle: cn("rounded-none", defaultClassNames.range_middle),
        range_end: cn("rounded-r-md bg-accent", defaultClassNames.range_end),
        today: cn(
          "bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",
          defaultClassNames.today
        ),
        outside: cn(
          "text-muted-foreground aria-selected:text-muted-foreground",
          defaultClassNames.outside
        ),
        disabled: cn(
          "text-muted-foreground opacity-50",
          defaultClassNames.disabled
        ),
        hidden: cn("invisible", defaultClassNames.hidden),
        ...classNames,
      }}
      components={{
        Root: ({ className, rootRef, ...props }) => {
          return (
            <div
              data-slot="calendar"
              ref={rootRef}
              className={cn(className)}
              {...props}
            />
          )
        },
        Chevron: ({ className, orientation, ...props }) => {
          if (orientation === "left") {
            return (
              <ChevronLeftIcon className={cn("size-4", className)} {...props} />
            )
          }

          if (orientation === "right") {
            return (
              <ChevronRightIcon
                className={cn("size-4", className)}
                {...props}
              />
            )
          }

          return (
            <ChevronDownIcon className={cn("size-4", className)} {...props} />
          )
        },
        DayButton: CalendarDayButton,
        WeekNumber: ({ children, ...props }) => {
          return (
            <td {...props}>
              <div className="flex size-(--cell-size) items-center justify-center text-center">
                {children}
              </div>
            </td>
          )
        },
        ...components,
      }}
      {...props}
    />
  )
}

function CalendarDayButton({
  className,
  day,
  modifiers,
  ...props
}: React.ComponentProps<typeof DayButton>) {
  const defaultClassNames = getDefaultClassNames()

  const ref = React.useRef<HTMLButtonElement>(null)
  React.useEffect(() => {
    if (modifiers.focused) ref.current?.focus()
  }, [modifiers.focused])

  return (
    <Button
      ref={ref}
      variant="ghost"
      size="icon"
      data-day={day.date.toLocaleDateString()}
      data-selected-single={
        modifiers.selected &&
        !modifiers.range_start &&
        !modifiers.range_end &&
        !modifiers.range_middle
      }
      data-range-start={modifiers.range_start}
      data-range-end={modifiers.range_end}
      data-range-middle={modifiers.range_middle}
      className={cn(
        "data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",
        defaultClassNames.day,
        className
      )}
      {...props}
    />
  )
}

export { Calendar, CalendarDayButton }


==== FILE: src\components\ui\card.tsx ====
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}


==== FILE: src\components\ui\dialog.tsx ====
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 left-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function DialogFooter({
  className,
  showCloseButton = false,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  showCloseButton?: boolean
}) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    >
      {children}
      {showCloseButton && (
        <DialogPrimitive.Close asChild>
          <Button variant="outline">Close</Button>
        </DialogPrimitive.Close>
      )}
    </div>
  )
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}


==== FILE: src\components\ui\form.tsx ====
"use client"

import * as React from "react"
import type * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  useFormState,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState } = useFormContext()
  const formState = useFormState({ name: fieldContext.name })
  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  )
}

function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField()

  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
}

function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField()

  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : props.children

  if (!body) {
    return null
  }

  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  )
}

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}


==== FILE: src\components\ui\input.tsx ====
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }


==== FILE: src\components\ui\label.tsx ====
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Label }


==== FILE: src\components\ui\popover.tsx ====
"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

function Popover({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Root>) {
  return <PopoverPrimitive.Root data-slot="popover" {...props} />
}

function PopoverTrigger({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
  return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />
}

function PopoverContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
  return (
    <PopoverPrimitive.Portal>
      <PopoverPrimitive.Content
        data-slot="popover-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className
        )}
        {...props}
      />
    </PopoverPrimitive.Portal>
  )
}

function PopoverAnchor({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
  return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />
}

function PopoverHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="popover-header"
      className={cn("flex flex-col gap-1 text-sm", className)}
      {...props}
    />
  )
}

function PopoverTitle({ className, ...props }: React.ComponentProps<"h2">) {
  return (
    <div
      data-slot="popover-title"
      className={cn("font-medium", className)}
      {...props}
    />
  )
}

function PopoverDescription({
  className,
  ...props
}: React.ComponentProps<"p">) {
  return (
    <p
      data-slot="popover-description"
      className={cn("text-muted-foreground", className)}
      {...props}
    />
  )
}

export {
  Popover,
  PopoverTrigger,
  PopoverContent,
  PopoverAnchor,
  PopoverHeader,
  PopoverTitle,
  PopoverDescription,
}


==== FILE: src\components\ui\select.tsx ====
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default"
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  position = "item-aligned",
  align = "center",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className
        )}
        position={position}
        align={align}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className
      )}
      {...props}
    >
      <span
        data-slot="select-item-indicator"
        className="absolute right-2 flex size-3.5 items-center justify-center"
      >
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}


==== FILE: src\components\ui\sonner.tsx ====
"use client"

import {
  CircleCheckIcon,
  InfoIcon,
  Loader2Icon,
  OctagonXIcon,
  TriangleAlertIcon,
} from "lucide-react"
import { useTheme } from "next-themes"
import { Toaster as Sonner, type ToasterProps } from "sonner"

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      icons={{
        success: <CircleCheckIcon className="size-4" />,
        info: <InfoIcon className="size-4" />,
        warning: <TriangleAlertIcon className="size-4" />,
        error: <OctagonXIcon className="size-4" />,
        loading: <Loader2Icon className="size-4 animate-spin" />,
      }}
      style={
        {
          "--normal-bg": "var(--popover)",
          "--normal-text": "var(--popover-foreground)",
          "--normal-border": "var(--border)",
          "--border-radius": "var(--radius)",
        } as React.CSSProperties
      }
      {...props}
    />
  )
}

export { Toaster }


==== FILE: src\components\ui\table.tsx ====
import * as React from "react"

import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}


==== FILE: src\components\ui\tabs.tsx ====
import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

function Tabs({
  className,
  orientation = "horizontal",
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      data-orientation={orientation}
      orientation={orientation}
      className={cn(
        "group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",
        className
      )}
      {...props}
    />
  )
}

const tabsListVariants = cva(
  "rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",
  {
    variants: {
      variant: {
        default: "bg-muted",
        line: "gap-1 bg-transparent",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function TabsList({
  className,
  variant = "default",
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List> &
  VariantProps<typeof tabsListVariants>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      data-variant={variant}
      className={cn(tabsListVariants({ variant }), className)}
      {...props}
    />
  )
}

function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        "group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent",
        "data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground",
        "after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",
        className
      )}
      {...props}
    />
  )
}

function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn("flex-1 outline-none", className)}
      {...props}
    />
  )
}

export { Tabs, TabsList, TabsTrigger, TabsContent, tabsListVariants }


==== FILE: src\config\api.client.ts ====
import axios from "axios";

// Ensure this matches your backend URL (Backend must be running!)
export const API_URL = "http://localhost:5000/api";

const apiClient = axios.create({
  baseURL: API_URL,
  headers: {
    "Content-Type": "application/json",
  },
});

// 1. Request Interceptor: Automatically add the Token
apiClient.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem("token");
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => Promise.reject(error),
);

// 2. Response Interceptor: Handle 401 (Logout if token expires)
apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem("token");
      window.location.href = "/login";
    }
    return Promise.reject(error);
  },
);

export default apiClient;


==== FILE: src\config\attendance.endpoints.ts ====
export const ATTENDANCE_STATUS_TYPES_ENDPOINT = '/attendance/status-types';
export const ATTENDANCE_STATS_ENDPOINT = '/attendance/stats';
export const ATTENDANCE_LOG_ENDPOINT = '/attendance/log';
export const ATTENDANCE_CALENDAR_ENDPOINT = '/attendance/calendar';

==== FILE: src\config\auth.endpoints.ts ====
export const AUTH_LOGIN_ENDPOINT = '/auth/login';
export const AUTH_ME_ENDPOINT = '/auth/me';
export const AUTH_CHANGE_PASSWORD_ENDPOINT = '/auth/change-password';

==== FILE: src\config\employees.endpoints.ts ====
export const EMPLOYEES_BASE_ENDPOINT = '/employees'; // Use for GET list and POST create
export const EMPLOYEES_STRUCTURE_ENDPOINT = '/employees/structure';
export const EMPLOYEES_EXPORT_ENDPOINT = '/employees/export';

// Helper for dynamic IDs
export const getEmployeeByIdEndpoint = (id: number) => `/employees/${id}`;
export const updateEmployeeEndpoint = (id: number) => `/employees/${id}`;
export const deleteEmployeeEndpoint = (id: number) => `/employees/${id}`;

==== FILE: src\config\transfers.endpoints.ts ====
export const TRANSFERS_BASE_ENDPOINT = '/transfers'; // Use for create
export const TRANSFERS_PENDING_ENDPOINT = '/transfers/pending';
export const TRANSFERS_HISTORY_ENDPOINT = '/transfers/history';

// Helpers for dynamic IDs
export const approveTransferEndpoint = (id: number) => `/transfers/${id}/approve`;
export const rejectTransferEndpoint = (id: number) => `/transfers/${id}/reject`;
export const cancelTransferEndpoint = (id: number) => `/transfers/${id}/cancel`;

==== FILE: src\context\AuthContext.tsx ====
import { createContext, useContext, useEffect, type ReactNode } from 'react';
import { useAuth } from '@/hooks/useAuth';
import type { AuthUser } from '@/types/auth.types';

interface AuthContextType {
  user: AuthUser | null;
  loading: boolean;
  error: string | null;
  login: (personal_number: string, password: string) => Promise<boolean>;
  logout: () => void;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: ReactNode }) {
  const { user, loading, error, login, logout, fetchUser } = useAuth();

  useEffect(() => {
    fetchUser();
  }, [fetchUser]);

  return (
    <AuthContext.Provider value={{ user, loading, error, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
}

export const useAuthContext = () => {
  const context = useContext(AuthContext);
  if (!context) throw new Error('useAuthContext must be used within AuthProvider');
  return context;
};

==== FILE: src\context\ThemeContext.tsx ====
import React, { createContext, useContext, useEffect, useState } from "react";

type Theme = "dark" | "light";

interface ThemeContextType {
  theme: Theme;
  toggleTheme: () => void;
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined);

export function ThemeProvider({ children }: { children: React.ReactNode }) {
  const [theme, setTheme] = useState<Theme>(() => {
    const saved = localStorage.getItem("theme");
    return (saved as Theme) || "light";
  });

  useEffect(() => {
    const root = window.document.documentElement;
    root.classList.remove("light", "dark");
    root.classList.add(theme);
    localStorage.setItem("theme", theme);
  }, [theme]);

  const toggleTheme = () => {
    setTheme((prev) => (prev === "light" ? "dark" : "light"));
  };

  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}

export const useTheme = () => {
  const context = useContext(ThemeContext);
  if (!context) throw new Error("useTheme must be used within ThemeProvider");
  return context;
};


==== FILE: src\hooks\useAttendance.ts ====
import { useState, useEffect, useCallback } from 'react';
import apiClient from '@/config/api.client';
import * as endpoints from '@/config/attendance.endpoints';
import type { DashboardData, StatusType } from '@/types/attendance.types';

export const useAttendance = () => {
  const [stats, setStats] = useState<DashboardData | null>(null);
  const [statusTypes, setStatusTypes] = useState<StatusType[]>([]);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string | null>(null);

  // Fetch Dashboard Stats (Numbers + Birthdays)
  const fetchStats = useCallback(async () => {
    setLoading(true);
    try {
      const { data } = await apiClient.get<DashboardData>(endpoints.ATTENDANCE_STATS_ENDPOINT);
      setStats(data);
    } catch (err) {
      setError('Failed to load stats');
    } finally {
      setLoading(false);
    }
  }, []);

  // Fetch Status Types (Colors/Names)
  const fetchStatusTypes = useCallback(async () => {
    try {
      const { data } = await apiClient.get<StatusType[]>(endpoints.ATTENDANCE_STATUS_TYPES_ENDPOINT);
      setStatusTypes(data);
    } catch (err) {
      console.error(err);
    }
  }, []);

  // Log a new status
  const logStatus = async (payload: { employee_id?: number; status_type_id: number; note?: string; start_date?: string; end_date?: string }) => {
    setLoading(true);
    try {
      await apiClient.post(endpoints.ATTENDANCE_LOG_ENDPOINT, payload);
      await fetchStats(); // Update dashboard immediately
      return true;
    } catch (err: any) {
      setError(err.response?.data?.error || 'Failed to log status');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Initial Data Load
  useEffect(() => {
    fetchStats();
    fetchStatusTypes();
  }, [fetchStats, fetchStatusTypes]);

  return { 
    stats, 
    statusTypes, 
    loading, 
    error, 
    fetchStats, 
    logStatus 
  };
};

==== FILE: src\hooks\useAuth.ts ====
import { useState, useEffect, useCallback } from "react";
import apiClient from "@/config/api.client";
import * as endpoints from "@/config/auth.endpoints";
import type { AuthUser, LoginResponse } from "@/types/auth.types";

export const useAuth = () => {
  const [user, setUser] = useState<AuthUser | null>(null);
  const [loading, setLoading] = useState<boolean>(true);
  const [error, setError] = useState<string | null>(null);

  // Function to fetch current user (Me)
  const fetchUser = useCallback(async () => {
    setLoading(true);
    try {
      const token = localStorage.getItem("token");
      if (!token) {
        setLoading(false);
        return;
      }
      const { data } = await apiClient.get<AuthUser>(
        endpoints.AUTH_ME_ENDPOINT,
      );
      setUser(data);
      setError(null);
    } catch (err: any) {
      console.error(err);
      setError("Failed to load user");
      localStorage.removeItem("token"); // Clear bad token
    } finally {
      setLoading(false);
    }
  }, []);

  // Load user on mount
  useEffect(() => {
    fetchUser();
  }, [fetchUser]);

  // Login Function
  const login = async (personal_number: string, password: string) => {
    setLoading(true);
    try {
      const { data } = await apiClient.post<LoginResponse>(
        endpoints.AUTH_LOGIN_ENDPOINT,
        {
          personal_number,
          password,
        },
      );

      if (data.success) {
        localStorage.setItem("token", data.token);
        setUser(data.user);
        setError(null);
        return true;
      }
      return false;
    } catch (err: any) {
      const msg = err.response?.data?.error || "Login failed";
      setError(msg);
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Logout Function
  const logout = () => {
    localStorage.removeItem("token");
    setUser(null);
    window.location.href = "/login";
  };

  return { user, loading, error, login, logout, fetchUser };
};


==== FILE: src\hooks\useEmployees.ts ====
import { useState, useEffect, useCallback } from 'react';
import apiClient from '@/config/api.client';
import * as endpoints from '@/config/employees.endpoints';
import type { CreateEmployeePayload, Employee } from '@/types/employee.types';

export const useEmployees = () => {
  const [employees, setEmployees] = useState<Employee[]>([]);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string | null>(null);

  // Fetch all employees
  const fetchEmployees = useCallback(async (search?: string, dept_id?: number) => {
    setLoading(true);
    try {
      const params = new URLSearchParams();
      if (search) params.append('search', search);
      if (dept_id) params.append('dept_id', dept_id.toString());

      const { data } = await apiClient.get<Employee[]>(`${endpoints.EMPLOYEES_BASE_ENDPOINT}?${params}`);
      setEmployees(data);
      setError(null);
    } catch (err: any) {
      setError(err.message || 'Failed to fetch employees');
    } finally {
      setLoading(false);
    }
  }, []);

  // Create Employee
  const createEmployee = async (payload: CreateEmployeePayload) => {
    setLoading(true);
    try {
      await apiClient.post(endpoints.EMPLOYEES_BASE_ENDPOINT, payload);
      await fetchEmployees(); // Refresh list after create
      return true;
    } catch (err: any) {
      setError(err.response?.data?.error || 'Failed to create employee');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Update Employee
  const updateEmployee = async (id: number, payload: any) => {
    setLoading(true);
    try {
      await apiClient.put(endpoints.updateEmployeeEndpoint(id), payload);
      await fetchEmployees(); // Refresh list
      return true;
    } catch (err: any) {
      setError(err.response?.data?.error || 'Failed to update');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Delete Employee
  const deleteEmployee = async (id: number) => {
    if(!confirm("Are you sure?")) return;
    
    setLoading(true);
    try {
      await apiClient.delete(endpoints.deleteEmployeeEndpoint(id));
      await fetchEmployees(); // Refresh list
      return true;
    } catch (err: any) {
      setError(err.response?.data?.error || 'Failed to delete');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Initial fetch
  useEffect(() => {
    fetchEmployees();
  }, [fetchEmployees]);

  return { 
    employees, 
    loading, 
    error, 
    fetchEmployees, 
    createEmployee, 
    updateEmployee, 
    deleteEmployee 
  };
};

==== FILE: src\hooks\useTransfers.ts ====
import { useState, useEffect, useCallback } from 'react';
import apiClient from '@/config/api.client';
import * as endpoints from '@/config/transfers.endpoints';
import type { CreateTransferPayload, TransferRequest } from '@/types/transfer.types';

export const useTransfers = () => {
  const [pendingRequests, setPendingRequests] = useState<TransferRequest[]>([]);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string | null>(null);

  // Get Pending
  const fetchPending = useCallback(async () => {
    setLoading(true);
    try {
      const { data } = await apiClient.get<TransferRequest[]>(endpoints.TRANSFERS_PENDING_ENDPOINT);
      setPendingRequests(data);
    } catch (err) {
      setError('Failed to load transfers');
    } finally {
      setLoading(false);
    }
  }, []);

  // Create Request
  const createTransfer = async (payload: CreateTransferPayload) => {
    setLoading(true);
    try {
      await apiClient.post(endpoints.TRANSFERS_BASE_ENDPOINT, payload);
      return true;
    } catch (err: any) {
      setError(err.response?.data?.error || 'Failed to create transfer');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Approve
  const approveTransfer = async (id: number) => {
    setLoading(true);
    try {
      await apiClient.post(endpoints.approveTransferEndpoint(id));
      await fetchPending(); // Refresh list
      return true;
    } catch (err: any) {
      setError('Failed to approve');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Reject
  const rejectTransfer = async (id: number, reason: string) => {
    setLoading(true);
    try {
      await apiClient.post(endpoints.rejectTransferEndpoint(id), { reason });
      await fetchPending(); // Refresh list
      return true;
    } catch (err: any) {
      setError('Failed to reject');
      return false;
    } finally {
      setLoading(false);
    }
  };

  // Init
  useEffect(() => {
    fetchPending();
  }, [fetchPending]);

  return { 
    pendingRequests, 
    loading, 
    error, 
    fetchPending, 
    createTransfer, 
    approveTransfer, 
    rejectTransfer 
  };
};

==== FILE: src\index.css ====
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@100..900&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

*{
    font-family: "Noto Sans Hebrew", sans-serif;
}

body {
  direction: rtl;
  @apply bg-background text-foreground overflow-x-hidden transition-colors duration-300;
}

::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-300 rounded-full hover:bg-slate-400 transition-colors dark:bg-slate-700/50 dark:hover:bg-slate-700;
}

@theme inline {
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    --radius-2xl: calc(var(--radius) + 8px);
    --radius-3xl: calc(var(--radius) + 12px);
    --radius-4xl: calc(var(--radius) + 16px);
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);
    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);
    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);
    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);
    --color-destructive: var(--destructive);
    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);
}

:root {
    --radius: 0.5rem;
    --background: #ffffff;
    --foreground: #001e30;
    --card: #ffffff;
    --card-foreground: #001e30;
    --popover: #ffffff;
    --popover-foreground: #001e30;
    --primary: #0074ff;
    --primary-foreground: #ffffff;
    --secondary: #eff6ff;
    --secondary-foreground: #0074ff;
    --muted: #f8fafc;
    --muted-foreground: #64748b;
    --accent: #eff6ff;
    --accent-foreground: #0074ff;
    --destructive: #df1b12;
    --border: #e2e8f0;
    --input: #e2e8f0;
    --ring: #0074ff;
}

.dark {
    --background: #000c14;
    --foreground: #f8fafc;
    --card: #04121d;
    --card-foreground: #f8fafc;
    --popover: #000c14;
    --popover-foreground: #f8fafc;
    --primary: #0074ff;
    --primary-foreground: #ffffff;
    --secondary: #001e30;
    --secondary-foreground: #f8fafc;
    --muted: #001e30;
    --muted-foreground: #94a3b8;
    --accent: #001e30;
    --accent-foreground: #0074ff;
    --destructive: #7f1d1d;
    --border: #001e30;
    --input: #001e30;
    --ring: #0074ff;
}

@layer base {
  * {
    @apply border-border outline-ring/50 transition-colors duration-200;
    }
}

==== FILE: src\lib\utils.ts ====
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}


==== FILE: src\main.tsx ====
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./index.css";
import { AppRouter } from "./router";
import { AuthProvider } from "./context/AuthContext";
import { ThemeProvider } from "./context/ThemeContext";
import { Toaster } from "sonner";

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <ThemeProvider>
      <AuthProvider>
        <AppRouter />
        <Toaster />
      </AuthProvider>
    </ThemeProvider>
  </StrictMode>,
);


==== FILE: src\pages\CreateEmployeePage.tsx ====
import React, { useState } from "react";
import { useNavigate } from "react-router-dom";
import { useEmployees } from "@/hooks/useEmployees";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import type { CreateEmployeePayload } from "@/types/employee.types";
import { Loader2, ArrowRight, UserPlus, User, Calendar, MapPin, Phone, Shield, Building2, Save, X } from "lucide-react";
import { ChevronRight } from "lucide-react";

export default function CreateEmployeePage() {
  const navigate = useNavigate();
  const { createEmployee } = useEmployees();
  const [loading, setLoading] = useState(false);
  const [formData, setFormData] = useState<CreateEmployeePayload>({
    first_name: "",
    last_name: "",
    personal_number: "",
    national_id: "",
    phone_number: "",
    city: "",
    birth_date: "",
    enlistment_date: "",
    discharge_date: "",
    team_id: undefined,
    role_id: undefined,
    is_commander: false,
    is_admin: false,
    security_clearance: 0,
    police_license: false,
    emergency_contact: "",
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    const success = await createEmployee(formData);
    setLoading(false);
    if (success) {
      navigate("/employees");
    }
  };

  return (
    <div className="space-y-6 pb-6">
      {/* Page Header */}
      <div className="flex flex-col gap-1.5 border-b border-slate-200 dark:border-slate-700 pb-6">
        <div className="flex items-center gap-2 text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-none mb-1 text-right">
          <span>Core Hub</span>
          <ChevronRight className="w-3 h-3" />
          <span className="text-[#0074ff]">Personnel Management</span>
          <ChevronRight className="w-3 h-3" />
          <span>הוספת משרת חדש</span>
        </div>
        <div className="flex items-center gap-4 text-right">
          <div className="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#eff6ff] to-[#dbeafe] border border-blue-200 dark:border-blue-900/30 flex items-center justify-center dark:from-slate-800 dark:to-slate-800/50 shadow-sm">
            <UserPlus className="w-7 h-7 text-[#0074ff]" />
          </div>
          <div className="text-right">
            <h1 className="text-3xl font-semibold text-[#001e30] dark:text-white tracking-tight leading-none mb-1.5">
              הוספת משרת חדש
            </h1>
            <p className="text-sm font-medium text-slate-500 dark:text-slate-400 leading-none">
              מלא את הפרטים הבאים כדי להוסיף משרת חדש למערכת
            </p>
          </div>
        </div>
      </div>

      {/* Form */}
      <form onSubmit={handleSubmit} className="space-y-6">
        {/* Personal Information Section */}
        <Card className="border-slate-200 dark:border-slate-700">
          <CardHeader className="border-b border-slate-200 dark:border-slate-700">
            <CardTitle className="text-right flex items-center gap-2 flex-row-reverse text-lg font-semibold">
              <User className="w-5 h-5 text-[#0074ff]" />
              פרטים אישיים
            </CardTitle>
          </CardHeader>
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-2 text-right">
                <Label htmlFor="first_name" className="text-sm font-medium text-right">
                  שם פרטי *
                </Label>
                <Input
                  id="first_name"
                  value={formData.first_name}
                  onChange={(e) =>
                    setFormData({ ...formData, first_name: e.target.value })
                  }
                  required
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="last_name" className="text-sm font-medium text-right">
                  שם משפחה *
                </Label>
                <Input
                  id="last_name"
                  value={formData.last_name}
                  onChange={(e) =>
                    setFormData({ ...formData, last_name: e.target.value })
                  }
                  required
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="personal_number" className="text-sm font-medium text-right">
                  מספר אישי *
                </Label>
                <Input
                  id="personal_number"
                  value={formData.personal_number}
                  onChange={(e) =>
                    setFormData({ ...formData, personal_number: e.target.value })
                  }
                  required
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11 font-mono"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="national_id" className="text-sm font-medium text-right">
                  תעודת זהות *
                </Label>
                <Input
                  id="national_id"
                  value={formData.national_id}
                  onChange={(e) =>
                    setFormData({ ...formData, national_id: e.target.value })
                  }
                  required
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11 font-mono"
                />
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Contact Information Section */}
        <Card className="border-slate-200 dark:border-slate-700">
          <CardHeader className="border-b border-slate-200 dark:border-slate-700">
            <CardTitle className="text-right flex items-center gap-2 flex-row-reverse text-lg font-semibold">
              <Phone className="w-5 h-5 text-[#0074ff]" />
              פרטי יצירת קשר
            </CardTitle>
          </CardHeader>
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-2 text-right">
                <Label htmlFor="phone_number" className="text-sm font-medium text-right">
                  מספר טלפון
                </Label>
                <Input
                  id="phone_number"
                  type="tel"
                  value={formData.phone_number}
                  onChange={(e) =>
                    setFormData({ ...formData, phone_number: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="city" className="text-sm font-medium text-right">
                  עיר
                </Label>
                <Input
                  id="city"
                  value={formData.city}
                  onChange={(e) =>
                    setFormData({ ...formData, city: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right md:col-span-2">
                <Label htmlFor="emergency_contact" className="text-sm font-medium text-right">
                  איש קשר לחירום
                </Label>
                <Input
                  id="emergency_contact"
                  value={formData.emergency_contact}
                  onChange={(e) =>
                    setFormData({ ...formData, emergency_contact: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Dates Section */}
        <Card className="border-slate-200 dark:border-slate-700">
          <CardHeader className="border-b border-slate-200 dark:border-slate-700">
            <CardTitle className="text-right flex items-center gap-2 flex-row-reverse text-lg font-semibold">
              <Calendar className="w-5 h-5 text-[#0074ff]" />
              תאריכים
            </CardTitle>
          </CardHeader>
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="space-y-2 text-right">
                <Label htmlFor="birth_date" className="text-sm font-medium text-right">
                  תאריך לידה
                </Label>
                <Input
                  id="birth_date"
                  type="date"
                  value={formData.birth_date}
                  onChange={(e) =>
                    setFormData({ ...formData, birth_date: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="enlistment_date" className="text-sm font-medium text-right">
                  תאריך גיוס
                </Label>
                <Input
                  id="enlistment_date"
                  type="date"
                  value={formData.enlistment_date}
                  onChange={(e) =>
                    setFormData({ ...formData, enlistment_date: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="discharge_date" className="text-sm font-medium text-right">
                  תאריך שחרור
                </Label>
                <Input
                  id="discharge_date"
                  type="date"
                  value={formData.discharge_date}
                  onChange={(e) =>
                    setFormData({ ...formData, discharge_date: e.target.value })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Security & Permissions Section */}
        <Card className="border-slate-200 dark:border-slate-700">
          <CardHeader className="border-b border-slate-200 dark:border-slate-700">
            <CardTitle className="text-right flex items-center gap-2 flex-row-reverse text-lg font-semibold">
              <Shield className="w-5 h-5 text-[#0074ff]" />
              אבטחה והרשאות
            </CardTitle>
          </CardHeader>
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-2 text-right">
                <Label htmlFor="security_clearance" className="text-sm font-medium text-right">
                  רמת סיווג
                </Label>
                <Input
                  id="security_clearance"
                  type="number"
                  min="0"
                  max="5"
                  value={formData.security_clearance}
                  onChange={(e) =>
                    setFormData({ ...formData, security_clearance: parseInt(e.target.value) || 0 })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="police_license" className="text-sm font-medium text-right">
                  רישיון משטרה
                </Label>
                <div className="flex items-center gap-3 flex-row-reverse mt-2">
                  <input
                    type="checkbox"
                    id="police_license"
                    checked={formData.police_license}
                    onChange={(e) =>
                      setFormData({ ...formData, police_license: e.target.checked })
                    }
                    className="w-4 h-4 rounded border-slate-300 text-[#0074ff] focus:ring-[#0074ff]"
                  />
                  <Label htmlFor="police_license" className="text-sm font-medium cursor-pointer">
                    יש רישיון משטרה
                  </Label>
                </div>
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="is_commander" className="text-sm font-medium text-right">
                  מפקד
                </Label>
                <div className="flex items-center gap-3 flex-row-reverse mt-2">
                  <input
                    type="checkbox"
                    id="is_commander"
                    checked={formData.is_commander}
                    onChange={(e) =>
                      setFormData({ ...formData, is_commander: e.target.checked })
                    }
                    className="w-4 h-4 rounded border-slate-300 text-[#0074ff] focus:ring-[#0074ff]"
                  />
                  <Label htmlFor="is_commander" className="text-sm font-medium cursor-pointer">
                    מפקד יחידה
                  </Label>
                </div>
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="is_admin" className="text-sm font-medium text-right">
                  מנהל מערכת
                </Label>
                <div className="flex items-center gap-3 flex-row-reverse mt-2">
                  <input
                    type="checkbox"
                    id="is_admin"
                    checked={formData.is_admin}
                    onChange={(e) =>
                      setFormData({ ...formData, is_admin: e.target.checked })
                    }
                    className="w-4 h-4 rounded border-slate-300 text-[#0074ff] focus:ring-[#0074ff]"
                  />
                  <Label htmlFor="is_admin" className="text-sm font-medium cursor-pointer">
                    מנהל מערכת
                  </Label>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Organizational Section */}
        <Card className="border-slate-200 dark:border-slate-700">
          <CardHeader className="border-b border-slate-200 dark:border-slate-700">
            <CardTitle className="text-right flex items-center gap-2 flex-row-reverse text-lg font-semibold">
              <Building2 className="w-5 h-5 text-[#0074ff]" />
              שיוך ארגוני
            </CardTitle>
          </CardHeader>
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-2 text-right">
                <Label htmlFor="team_id" className="text-sm font-medium text-right">
                  מזהה צוות
                </Label>
                <Input
                  id="team_id"
                  type="number"
                  value={formData.team_id || ""}
                  onChange={(e) =>
                    setFormData({ ...formData, team_id: e.target.value ? parseInt(e.target.value) : undefined })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
              <div className="space-y-2 text-right">
                <Label htmlFor="role_id" className="text-sm font-medium text-right">
                  מזהה תפקיד
                </Label>
                <Input
                  id="role_id"
                  type="number"
                  value={formData.role_id || ""}
                  onChange={(e) =>
                    setFormData({ ...formData, role_id: e.target.value ? parseInt(e.target.value) : undefined })
                  }
                  className="border-slate-200 focus:border-[#0074ff] text-right h-11"
                />
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Action Buttons */}
        <div className="flex items-center gap-4 justify-end pt-4 border-t border-slate-200 dark:border-slate-700">
          <Button
            type="button"
            variant="outline"
            onClick={() => navigate("/employees")}
            disabled={loading}
            className="border-slate-200 dark:border-slate-700 h-11 px-6"
          >
            <X className="w-4 h-4 ml-2" />
            ביטול
          </Button>
          <Button
            type="submit"
            disabled={loading}
            className="bg-[#0074ff] hover:bg-[#0060d5] text-white h-11 px-6 shadow-md shadow-blue-500/20"
          >
            {loading ? (
              <>
                <Loader2 className="w-4 h-4 ml-2 animate-spin" />
                מוסיף...
              </>
            ) : (
              <>
                <Save className="w-4 h-4 ml-2" />
                שמור משרת
              </>
            )}
          </Button>
        </div>
      </form>
    </div>
  );
}


==== FILE: src\pages\DashboardPage.tsx ====
import { useAttendance } from "@/hooks/useAttendance";
import { StatCards } from "@/components/dashboard/StatCards";
import { AttendanceOverview } from "@/components/dashboard/AttendanceOverview";
import { BirthdayModule } from "@/components/dashboard/BirthdayModule";
import { cn } from "@/lib/utils";

const Skeleton = ({ className }: { className?: string }) => (
  <div className={cn("animate-pulse rounded-md bg-muted", className)} />
);

export default function DashboardPage() {
  const { stats, loading } = useAttendance();

  if (loading && !stats) {
    return (
      <div className="space-y-4 animate-pulse">
        <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
          {[1, 2, 3, 4].map((i) => (
            <Skeleton key={i} className="h-16 rounded-lg" />
          ))}
        </div>
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
          <Skeleton className="h-48 lg:col-span-2 rounded-lg" />
          <Skeleton className="h-48 rounded-lg" />
        </div>
      </div>
    );
  }

  return (
    <div className="w-full h-full space-y-6">
      {/* 1. Statistics Summary */}
      <StatCards stats={stats?.stats || []} />

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* 2. Analysis & Overview */}
        <div className="lg:col-span-2">
          <AttendanceOverview stats={stats?.stats || []} />
        </div>

        {/* 3. Personnel events */}
        <div className="lg:col-span-1">
          <BirthdayModule birthdays={stats?.birthdays || []} />
        </div>
      </div>
    </div>
  );
}


==== FILE: src\pages\EditEmployeePage.tsx ====
import React, { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useEmployees } from "@/hooks/useEmployees";
import apiClient from "@/config/api.client";
import * as endpoints from "@/config/employees.endpoints";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  Card,
  CardContent,
  CardHeader,
  CardTitle,
  CardDescription,
  CardFooter,
} from "@/components/ui/card";
import type { Employee, CreateEmployeePayload } from "@/types/employee.types";
import {
  Loader2,
  User,
  Phone,
  Shield,
  Save,
  X,
  ChevronRight,
  UserCog,
  FileBadge,
  AlertTriangle,
  History,
  Briefcase
} from "lucide-react";
import { cn } from "@/lib/utils";

export default function EditEmployeePage() {
  const navigate = useNavigate();
  const { id } = useParams<{ id: string }>();
  const { updateEmployee } = useEmployees();
  
  const [loading, setLoading] = useState(false);
  const [fetching, setFetching] = useState(true);
  const [employee, setEmployee] = useState<Employee | null>(null);
  const [activeTab, setActiveTab] = useState("personal");
  
  // Form State
  const [formData, setFormData] = useState<CreateEmployeePayload>({
    first_name: "",
    last_name: "",
    personal_number: "",
    national_id: "",
    phone_number: "",
    city: "",
    birth_date: "",
    enlistment_date: "",
    discharge_date: "",
    team_id: undefined,
    role_id: undefined,
    is_commander: false,
    is_admin: false,
    security_clearance: 0,
    police_license: false,
    emergency_contact: "",
  });

  useEffect(() => {
    const fetchEmployee = async () => {
      if (!id) return;
      try {
        const { data } = await apiClient.get<Employee>(endpoints.updateEmployeeEndpoint(parseInt(id)));
        setEmployee(data);
        setFormData({
          first_name: data.first_name || "",
          last_name: data.last_name || "",
          personal_number: data.personal_number || "",
          national_id: data.national_id || "",
          phone_number: data.phone_number || "",
          city: data.city || "",
          birth_date: data.birth_date || "",
          enlistment_date: data.enlistment_date || "",
          discharge_date: data.discharge_date || "",
          team_id: data.team_id || undefined,
          role_id: data.role_id || undefined,
          is_commander: data.is_commander || false,
          is_admin: data.is_admin || false,
          security_clearance: data.security_clearance || 0,
          police_license: data.police_license || false,
          emergency_contact: data.emergency_contact || "",
        });
      } catch (error) {
        console.error("Failed to fetch employee:", error);
      } finally {
        setFetching(false);
      }
    };
    fetchEmployee();
  }, [id]);

  const handleSubmit = async (e?: React.FormEvent) => {
    if (e) e.preventDefault();
    if (!id) return;
    setLoading(true);
    const success = await updateEmployee(parseInt(id), formData);
    setLoading(false);
    if (success) {
      navigate("/employees");
    }
  };

  if (fetching) {
    return (
      <div className="flex flex-col items-center justify-center min-h-[60vh]">
        <Loader2 className="w-12 h-12 text-[#0074ff] animate-spin mb-4" />
        <span className="text-sm font-black text-slate-400 uppercase tracking-widest">טוען תיק עובד...</span>
      </div>
    );
  }

  if (!employee) return null;

  return (
    <div className="space-y-6 pb-12 max-w-7xl mx-auto">
      {/* Top Gov Strip */}
      <div className="w-full h-1.5 bg-gradient-to-r from-[#001e30] via-[#0074ff] to-[#001e30] rounded-full opacity-80" />

      {/* Breadcrumbs & Title */}
      <div className="flex flex-col gap-4">
        <div className="flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none text-right">
          <span>Portal</span>
          <ChevronRight className="w-3 h-3" />
          <span>Personnel</span>
          <ChevronRight className="w-3 h-3" />
          <span className="text-[#0074ff]">File #{employee.personal_number}</span>
        </div>
        
        <div className="flex items-start justify-between">
            <div>
                <h1 className="text-3xl font-black text-[#001e30] dark:text-white tracking-tight">
                עריכת תיק משרת
                </h1>
                <p className="text-sm text-slate-500 mt-1 font-medium">
                ניהול פרטים אישיים, הרשאות ושיוך ארגוני
                </p>
            </div>
            <div className="flex gap-2">
                <Button variant="outline" onClick={() => navigate("/employees")} className="border-slate-300">
                    <X className="w-4 h-4 ml-2" />
                    ביטול
                </Button>
                <Button onClick={() => handleSubmit()} className="bg-[#0074ff] hover:bg-[#0060d5]">
                    <Save className="w-4 h-4 ml-2" />
                    שמור שינויים
                </Button>
            </div>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
        
        {/* LEFT COLUMN: Profile "ID Card" */}
        <div className="lg:col-span-4 space-y-6">
            <Card className="border-t-4 border-t-[#0074ff] shadow-md bg-white dark:bg-slate-800/50 overflow-hidden">
                <CardHeader className="text-center pb-2 bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-800/50 pt-8">
                    <div className="w-24 h-24 mx-auto rounded-full bg-slate-100 border-4 border-white shadow-lg flex items-center justify-center text-3xl font-black text-[#0074ff] mb-4 relative">
                        {employee.first_name[0]}{employee.last_name[0]}
                        <div className={cn("absolute bottom-1 right-1 w-6 h-6 rounded-full border-2 border-white", 
                            employee.status_name === "נוכח" ? "bg-green-500" : "bg-slate-400")} 
                        />
                    </div>
                    <CardTitle className="text-xl font-black text-[#001e30] dark:text-white">
                        {employee.first_name} {employee.last_name}
                    </CardTitle>
                    <CardDescription className="text-xs font-mono font-bold text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full mx-auto w-fit mt-2">
                        {employee.personal_number}
                    </CardDescription>
                </CardHeader>
                <CardContent className="pt-6 space-y-4">
                    <div className="grid grid-cols-2 gap-4 text-center">
                         <div className="p-3 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-100 dark:border-slate-700">
                            <div className="text-[10px] text-slate-400 uppercase font-bold mb-1">תפקיד</div>
                            <div className="font-bold text-[#001e30] dark:text-white text-sm">
                                {employee.is_commander ? "מפקד" : "משרת"}
                            </div>
                         </div>
                         <div className="p-3 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-100 dark:border-slate-700">
                            <div className="text-[10px] text-slate-400 uppercase font-bold mb-1">סיווג</div>
                            <div className="font-bold text-[#001e30] dark:text-white text-sm">
                                רמה {employee.security_clearance}
                            </div>
                         </div>
                    </div>

                    <div className="space-y-3 pt-4 border-t border-slate-100 dark:border-slate-700">
                        <div className="flex justify-between items-center text-sm">
                            <span className="text-slate-500">מחלקה:</span>
                            <span className="font-bold text-[#001e30] dark:text-white">{employee.department_name || "-"}</span>
                        </div>
                        <div className="flex justify-between items-center text-sm">
                            <span className="text-slate-500">מדור:</span>
                            <span className="font-bold text-[#001e30] dark:text-white">{employee.section_name || "-"}</span>
                        </div>
                        <div className="flex justify-between items-center text-sm">
                            <span className="text-slate-500">צוות:</span>
                            <span className="font-bold text-[#001e30] dark:text-white">{employee.team_name || "-"}</span>
                        </div>
                    </div>
                </CardContent>
                <CardFooter className="bg-slate-50 dark:bg-slate-800/80 p-4 border-t border-slate-100 dark:border-slate-700 flex flex-col gap-2">
                     <div className="flex items-center gap-2 w-full text-xs text-slate-500">
                        <History className="w-3 h-3" />
                        <span>עודכן לאחרונה: {new Date().toLocaleDateString()}</span>
                     </div>
                </CardFooter>
            </Card>

            <div className="bg-blue-50 border border-blue-100 rounded-xl p-4 flex items-start gap-3">
                <AlertTriangle className="w-5 h-5 text-[#0074ff] shrink-0" />
                <div>
                    <h4 className="text-sm font-bold text-[#001e30]">שים לב</h4>
                    <p className="text-xs text-slate-600 mt-1 leading-relaxed">
                        שינוי שיוך ארגוני עשוי להשפיע על הרשאות הגישה של המשרת. יש לוודא עדכון מול קמ"ן היחידה.
                    </p>
                </div>
            </div>
        </div>

        {/* RIGHT COLUMN: Tabbed Form */}
        <div className="lg:col-span-8">
            <Tabs value={activeTab} onValueChange={setActiveTab} className="w-full">
                <TabsList className="w-full h-12 p-1 bg-white border border-slate-200 dark:bg-slate-800 dark:border-slate-700 rounded-xl mb-6 shadow-sm grid grid-cols-4">
                    <TabsTrigger value="personal" className="h-full rounded-lg data-[state=active]:bg-[#eff6ff] data-[state=active]:text-[#0074ff] font-bold text-xs">
                        <User className="w-4 h-4 ml-2" /> פרטים אישיים
                    </TabsTrigger>
                    <TabsTrigger value="contact" className="h-full rounded-lg data-[state=active]:bg-[#eff6ff] data-[state=active]:text-[#0074ff] font-bold text-xs">
                        <Phone className="w-4 h-4 ml-2" /> יצירת קשר
                    </TabsTrigger>
                    <TabsTrigger value="service" className="h-full rounded-lg data-[state=active]:bg-[#eff6ff] data-[state=active]:text-[#0074ff] font-bold text-xs">
                        <Briefcase className="w-4 h-4 ml-2" /> שירות ותפקיד
                    </TabsTrigger>
                    <TabsTrigger value="security" className="h-full rounded-lg data-[state=active]:bg-[#eff6ff] data-[state=active]:text-[#0074ff] font-bold text-xs">
                        <Shield className="w-4 h-4 ml-2" /> אבטחה
                    </TabsTrigger>
                </TabsList>

                {/* TAB 1: PERSONAL */}
                <TabsContent value="personal" className="mt-0">
                    <Card className="border-none shadow-sm bg-white dark:bg-slate-800">
                        <CardHeader>
                            <CardTitle className="flex items-center gap-2">
                                <UserCog className="w-5 h-5 text-[#0074ff]" />
                                זהות בסיסית
                            </CardTitle>
                            <CardDescription>פרטי זיהוי רשמיים כפי שמופיעים ברשומות כוח האדם</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <Label>שם פרטי</Label>
                                    <Input 
                                        value={formData.first_name} 
                                        onChange={(e) => setFormData({...formData, first_name: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>שם משפחה</Label>
                                    <Input 
                                        value={formData.last_name} 
                                        onChange={(e) => setFormData({...formData, last_name: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>מספר אישי</Label>
                                    <Input 
                                        value={formData.personal_number} 
                                        onChange={(e) => setFormData({...formData, personal_number: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20 font-mono tracking-wide font-bold text-slate-700"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>תעודת זהות</Label>
                                    <Input 
                                        value={formData.national_id} 
                                        onChange={(e) => setFormData({...formData, national_id: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20 font-mono"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>תאריך לידה</Label>
                                    <Input 
                                        type="date"
                                        value={formData.birth_date ? formData.birth_date.split('T')[0] : ''} 
                                        onChange={(e) => setFormData({...formData, birth_date: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                    <div className="flex justify-end mt-4">
                        <Button variant="outline" onClick={() => setActiveTab("contact")}>
                            הבא: פרטי קשר <ChevronRight className="w-4 h-4 rotate-180 mr-2" />
                        </Button>
                    </div>
                </TabsContent>

                {/* TAB 2: CONTACT */}
                <TabsContent value="contact" className="mt-0">
                    <Card className="border-none shadow-sm bg-white dark:bg-slate-800">
                        <CardHeader>
                            <CardTitle className="flex items-center gap-2">
                                <Phone className="w-5 h-5 text-[#0074ff]" />
                                פרטי יצירת קשר
                            </CardTitle>
                            <CardDescription>כתובת מגורים ומספרי חירום</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <Label>טלפון נייד</Label>
                                    <Input 
                                        type="tel"
                                        value={formData.phone_number} 
                                        onChange={(e) => setFormData({...formData, phone_number: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>עיר מגורים</Label>
                                    <Input 
                                        value={formData.city} 
                                        onChange={(e) => setFormData({...formData, city: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                                <div className="space-y-2 md:col-span-2">
                                    <Label className="text-red-500 font-bold flex items-center gap-1">
                                        <AlertTriangle className="w-3 h-3" />
                                        איש קשר לחירום
                                    </Label>
                                    <Input 
                                        value={formData.emergency_contact} 
                                        onChange={(e) => setFormData({...formData, emergency_contact: e.target.value})}
                                        className="h-11 bg-red-50 border-red-100 focus:border-red-500 focus:ring-red-200"
                                        placeholder="שם ומספר טלפון"
                                    />
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                     <div className="flex justify-between mt-4">
                        <Button variant="ghost" onClick={() => setActiveTab("personal")}>חזור</Button>
                        <Button variant="outline" onClick={() => setActiveTab("service")}>
                            הבא: שירות ותפקיד <ChevronRight className="w-4 h-4 rotate-180 mr-2" />
                        </Button>
                    </div>
                </TabsContent>

                 {/* TAB 3: SERVICE */}
                 <TabsContent value="service" className="mt-0">
                    <Card className="border-none shadow-sm bg-white dark:bg-slate-800">
                        <CardHeader>
                            <CardTitle className="flex items-center gap-2">
                                <Briefcase className="w-5 h-5 text-[#0074ff]" />
                                נתוני שירות
                            </CardTitle>
                            <CardDescription>תאריכי גיוס/שחרור ומיקום בעץ הארגוני</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <Label>תאריך גיוס</Label>
                                    <Input 
                                        type="date"
                                        value={formData.enlistment_date ? formData.enlistment_date.split('T')[0] : ''} 
                                        onChange={(e) => setFormData({...formData, enlistment_date: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>תאריך שחרור (צפוי)</Label>
                                    <Input 
                                        type="date"
                                        value={formData.discharge_date ? formData.discharge_date.split('T')[0] : ''} 
                                        onChange={(e) => setFormData({...formData, discharge_date: e.target.value})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                            </div>
                            
                            <div className="h-px bg-slate-100 my-4" />
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <Label>מזהה צוות (Team ID)</Label>
                                    <Input 
                                        type="number"
                                        value={formData.team_id || ''} 
                                        onChange={(e) => setFormData({...formData, team_id: parseInt(e.target.value) || undefined})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                    <p className="text-[10px] text-slate-400">יש להזין מזהה צוות קיים מהמערכת</p>
                                </div>
                                <div className="space-y-2">
                                    <Label>מזהה תפקיד (Role ID)</Label>
                                    <Input 
                                        type="number"
                                        value={formData.role_id || ''} 
                                        onChange={(e) => setFormData({...formData, role_id: parseInt(e.target.value) || undefined})}
                                        className="h-11 bg-slate-50 border-slate-200 focus:border-[#0074ff] focus:ring-[#0074ff]/20"
                                    />
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                    <div className="flex justify-between mt-4">
                        <Button variant="ghost" onClick={() => setActiveTab("contact")}>חזור</Button>
                        <Button variant="outline" onClick={() => setActiveTab("security")}>
                            הבא: אבטחה <ChevronRight className="w-4 h-4 rotate-180 mr-2" />
                        </Button>
                    </div>
                </TabsContent>

                {/* TAB 4: SECURITY */}
                <TabsContent value="security" className="mt-0">
                    <Card className="border-none shadow-sm bg-white dark:bg-slate-800">
                        <CardHeader>
                            <CardTitle className="flex items-center gap-2">
                                <Shield className="w-5 h-5 text-[#0074ff]" />
                                הרשאות ואבטחה
                            </CardTitle>
                            <CardDescription>קביעת רמת סיווג והרשאות ניהול במערכת</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="p-4 bg-yellow-50 border border-yellow-100 rounded-xl mb-4 flex gap-3">
                                <AlertTriangle className="w-5 h-5 text-yellow-600 shrink-0" />
                                <div className="text-xs text-yellow-800">
                                    <strong>שים לב:</strong> הענקת הרשאות "מנהל מערכת" מאפשרת למשתמש גישה מלאה לכל נתוני כוח האדם ביחידה.
                                </div>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div className="space-y-4">
                                    <Label>רמת סיווג (0-5)</Label>
                                    <div className="flex items-center gap-4">
                                        <Input 
                                            type="number" 
                                            min="0" max="5"
                                            value={formData.security_clearance}
                                            onChange={(e) => setFormData({...formData, security_clearance: parseInt(e.target.value) || 0})}
                                            className="w-24 h-12 text-center text-lg font-bold bg-slate-50"
                                        />
                                        <div className="text-xs text-slate-500">
                                            0 = בלמ"ס<br/>
                                            5 = סודי ביותר
                                        </div>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="flex items-center justify-between p-3 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors cursor-pointer" onClick={() => setFormData(prev => ({...prev, is_commander: !prev.is_commander}))}>
                                        <div className="flex items-center gap-3">
                                            <div className={cn("w-10 h-10 rounded-full flex items-center justify-center", formData.is_commander ? "bg-blue-100 text-[#0074ff]" : "bg-slate-100 text-slate-400")}>
                                                <UserCog className="w-5 h-5" />
                                            </div>
                                            <div>
                                                <div className="font-bold text-sm">מפקד / מנהל</div>
                                                <div className="text-xs text-slate-500">האם מוגדר כגורם פיקודי?</div>
                                            </div>
                                        </div>
                                        <div className={cn("w-5 h-5 rounded border flex items-center justify-center", formData.is_commander ? "bg-[#0074ff] border-[#0074ff]" : "border-slate-300")}>
                                            {formData.is_commander && <div className="w-2 h-2 bg-white rounded-full" />}
                                        </div>
                                    </div>

                                    <div className="flex items-center justify-between p-3 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors cursor-pointer" onClick={() => setFormData(prev => ({...prev, is_admin: !prev.is_admin}))}>
                                        <div className="flex items-center gap-3">
                                            <div className={cn("w-10 h-10 rounded-full flex items-center justify-center", formData.is_admin ? "bg-red-100 text-red-600" : "bg-slate-100 text-slate-400")}>
                                                <Shield className="w-5 h-5" />
                                            </div>
                                            <div>
                                                <div className="font-bold text-sm">Administrator</div>
                                                <div className="text-xs text-slate-500">גישה מלאה למערכת</div>
                                            </div>
                                        </div>
                                        <div className={cn("w-5 h-5 rounded border flex items-center justify-center", formData.is_admin ? "bg-[#0074ff] border-[#0074ff]" : "border-slate-300")}>
                                            {formData.is_admin && <div className="w-2 h-2 bg-white rounded-full" />}
                                        </div>
                                    </div>

                                     <div className="flex items-center justify-between p-3 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors cursor-pointer" onClick={() => setFormData(prev => ({...prev, police_license: !prev.police_license}))}>
                                        <div className="flex items-center gap-3">
                                            <div className={cn("w-10 h-10 rounded-full flex items-center justify-center", formData.police_license ? "bg-green-100 text-green-600" : "bg-slate-100 text-slate-400")}>
                                                <FileBadge className="w-5 h-5" />
                                            </div>
                                            <div>
                                                <div className="font-bold text-sm">רישיון משטרה</div>
                                                <div className="text-xs text-slate-500">האם קיים אישור משטרתי בתוקף?</div>
                                            </div>
                                        </div>
                                        <div className={cn("w-5 h-5 rounded border flex items-center justify-center", formData.police_license ? "bg-[#0074ff] border-[#0074ff]" : "border-slate-300")}>
                                            {formData.police_license && <div className="w-2 h-2 bg-white rounded-full" />}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                    <div className="flex justify-between mt-4">
                        <Button variant="ghost" onClick={() => setActiveTab("service")}>חזור</Button>
                        <Button className="bg-[#0074ff] hover:bg-[#0060d5] px-8 shadow-lg shadow-blue-500/20" onClick={() => handleSubmit()}>
                             {loading ? <Loader2 className="w-4 h-4 animate-spin" /> : "שמור וסיים"}
                        </Button>
                    </div>
                </TabsContent>
            </Tabs>
        </div>
      </div>
    </div>
  );
}

==== FILE: src\pages\EmployeesPage.tsx ====
import React from "react";
import { useEmployees } from "@/hooks/useEmployees";
import { EmployeeTable } from "@/components/employees/EmployeeTable";
import { Users, ChevronRight } from "lucide-react";

export default function EmployeesPage() {
  const { employees, loading } = useEmployees();

  return (
    <div className="space-y-6 pb-6">
      {/* Page Header */}
      <div className="flex flex-col gap-1.5 border-b border-slate-200 dark:border-slate-700 pb-6">
        <div className="flex items-center gap-2 text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-none mb-1 text-right">
          <span>Core Hub</span>
          <ChevronRight className="w-3 h-3" />
          <span className="text-[#0074ff]">Personnel Management</span>
        </div>
        <div className="flex items-center gap-4 text-right">
          <div className="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#eff6ff] to-[#dbeafe] border border-blue-200 dark:border-blue-900/30 flex items-center justify-center dark:from-slate-800 dark:to-slate-800/50 shadow-sm">
            <Users className="w-7 h-7 text-[#0074ff]" />
          </div>
          <div className="text-right">
            <h1 className="text-3xl font-semibold text-[#001e30] dark:text-white tracking-tight leading-none mb-1.5">
              ניהול מצבת כוח אדם
            </h1>
            <p className="text-sm font-medium text-slate-500 dark:text-slate-400 leading-none">
              מערך ניהול וצפייה בנתוני המשרתים ביחידה
            </p>
          </div>
        </div>
      </div>

      {/* Table Section */}
      <EmployeeTable employees={employees} loading={loading} />
    </div>
  );
}


==== FILE: src\pages\LoginPage.tsx ====
import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import {
  Loader2,
  AlertCircle,
  ShieldCheck,
  Lock,
  ExternalLink,
} from "lucide-react";
import { useAuthContext } from "@/context/AuthContext";
import { useNavigate } from "react-router-dom";

export default function LoginPage() {
  const [personalNumber, setPersonalNumber] = useState("");
  const [password, setPassword] = useState("");
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState("");
  const navigate = useNavigate();
  const { login } = useAuthContext();

  const handleSubmit = async (e?: React.FormEvent) => {
    if (e) e.preventDefault();
    setError("");

    if (!personalNumber.trim() || !password.trim()) {
      setError("יש למלא מספר אישי וסיסמה");
      return;
    }

    setIsLoading(true);

    try {
      const success = await login(personalNumber.trim(), password.trim());
      if (success) navigate("/", { replace: true });
    } catch (err) {
      setError("שגיאת התחברות. אנא ודא שהפרטים נכונים ונסה שוב.");
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-[#f3f6f9] flex flex-col font-sans text-[#2c3e50]">
      {/* Official Top Bar */}
      <div className="w-full bg-[#003d7e] h-1.5" />
      <header className="w-full bg-white border-b border-slate-200 py-3 px-6 md:px-12 flex items-center justify-between shadow-sm">
        <div className="flex items-center gap-3">
          <div className="w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center border border-slate-100">
            <ShieldCheck className="w-6 h-6 text-[#003d7e]" />
          </div>
          <div>
            <div className="text-xs font-bold text-[#003d7e] uppercase tracking-wider leading-none">
              מדינת ישראל
            </div>
            <div className="text-sm font-black text-slate-800 tracking-tight">
              מערכת ניהול סד"כ ומשימות
            </div>
          </div>
        </div>
        <div className="hidden sm:flex items-center gap-2 text-xs font-bold text-slate-400">
          <span>GOV.IL</span>
          <ExternalLink className="w-3 h-3" />
        </div>
      </header>

      {/* Main Content Area */}
      <main className="flex-grow flex items-center justify-center p-4 md:p-8">
        <div className="w-full max-w-[440px] animate-in fade-in slide-in-from-bottom-4 duration-500">
          {/* Security Banner */}
          <div className="bg-[#e7f0f8] border-r-4 border-[#003d7e] p-4 mb-6 flex items-start gap-3">
            <Lock className="w-5 h-5 text-[#003d7e] mt-0.5" />
            <div className="text-sm leading-relaxed">
              <span className="font-bold text-[#003d7e]">כניסה מאובטחת.</span>
              <p className="text-slate-600">
                הגישה למערכת מיועדת למורשי גישה בלבד. כל הפעולות במערכת מנוטרות
                ומתועדות.
              </p>
            </div>
          </div>

          {/* Login Card */}
          <div className="bg-white rounded-xl border border-slate-200 shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden">
            <div className="p-8">
              <div className="mb-8">
                <h1 className="text-2xl font-bold text-slate-900 mb-2">
                  הזדהות למערכת
                </h1>
                <p className="text-slate-500 text-sm italic">
                  נא להזין פרטי משתמש להמשך
                </p>
              </div>

              <form onSubmit={handleSubmit} className="space-y-6">
                <div className="space-y-4">
                  {/* Personal Number */}
                  <div className="space-y-1.5">
                    <Label
                      htmlFor="personal_number"
                      className="text-sm font-bold text-slate-700 mr-1"
                    >
                      מספר אישי
                    </Label>
                    <Input
                      id="personal_number"
                      type="text"
                      autoComplete="username"
                      autoFocus
                      value={personalNumber}
                      onChange={(e) => {
                        setPersonalNumber(e.target.value.trim());
                        setError("");
                      }}
                      className="h-12 border-slate-300 focus:border-[#003d7e] focus:ring-1 focus:ring-[#003d7e]/20 rounded-md bg-slate-50/50"
                      placeholder="הזן מספר אישי"
                      disabled={isLoading}
                    />
                  </div>

                  {/* Password */}
                  <div className="space-y-1.5">
                    <div className="flex items-center justify-between">
                      <Label
                        htmlFor="password"
                        className="text-sm font-bold text-slate-700 mr-1"
                      >
                        סיסמה
                      </Label>
                      <button
                        type="button"
                        className="text-xs font-bold text-[#003d7e] hover:underline"
                      >
                        שכחתי סיסמה
                      </button>
                    </div>
                    <Input
                      id="password"
                      type="password"
                      autoComplete="current-password"
                      value={password}
                      onChange={(e) => {
                        setPassword(e.target.value);
                        setError("");
                      }}
                      className="h-12 border-slate-300 focus:border-[#003d7e] focus:ring-1 focus:ring-[#003d7e]/20 rounded-md bg-slate-50/50"
                      placeholder="הזן סיסמה"
                      disabled={isLoading}
                    />
                  </div>
                </div>

                {/* Error Message */}
                {error && (
                  <div className="flex items-center gap-3 bg-red-50 border-r-4 border-red-500 p-4 text-sm text-red-700 animate-in fade-in zoom-in-95 duration-200">
                    <AlertCircle className="h-5 w-5 flex-shrink-0" />
                    <span className="font-medium">{error}</span>
                  </div>
                )}

                {/* Submit Button */}
                <div className="pt-2">
                  <Button
                    type="submit"
                    disabled={isLoading}
                    className="w-full h-12 bg-[#003d7e] hover:bg-[#002a56] text-white font-bold text-base rounded-md transition-all shadow-md active:transform active:scale-[0.98]"
                  >
                    {isLoading ? (
                      <span className="flex items-center gap-2">
                        <Loader2 className="h-5 w-5 animate-spin" />
                        מאמת נתונים...
                      </span>
                    ) : (
                      "כניסה למערכת"
                    )}
                  </Button>
                </div>
              </form>
            </div>

            {/* Form Footer */}
            <div className="bg-slate-50 border-t border-slate-100 p-6 text-center">
              <p className="text-xs font-medium text-slate-400 uppercase tracking-widest mb-1">
                תמיכה טכנית
              </p>
              <p className="text-sm text-slate-600">
                נתקלת בבעיה? פנה למרכז התמיכה בטלפון:{" "}
                <span className="font-bold whitespace-nowrap">*1234</span>
              </p>
            </div>
          </div>
        </div>
      </main>

      {/* Page Footer */}
      <footer className="py-8 px-6 border-t border-slate-200 bg-white">
        <div className="max-w-screen-xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
          <div className="flex items-center gap-4 text-xs font-bold text-slate-400">
            <a href="#" className="hover:text-[#003d7e] transition-colors">
              תנאי שימוש
            </a>
            <span className="w-1 h-1 bg-slate-300 rounded-full" />
            <a href="#" className="hover:text-[#003d7e] transition-colors">
              הצהרת נגישות
            </a>
            <span className="w-1 h-1 bg-slate-300 rounded-full" />
            <a href="#" className="hover:text-[#003d7e] transition-colors">
              מדיניות פרטיות
            </a>
          </div>
          <p className="text-xs text-slate-400 font-medium">
            © {new Date().getFullYear()} כל הזכויות שמורות ליחידת המחשוב • גרסה
            2.4.1
          </p>
        </div>
      </footer>
    </div>
  );
}


==== FILE: src\pages\TransfersPage.tsx ====
export default function TransfersPage() {
  return <div>TransfersPage</div>;
}


==== FILE: src\router.tsx ====
import {
  createBrowserRouter,
  RouterProvider,
  Navigate,
} from "react-router-dom";
import { useAuthContext } from "@/context/AuthContext";

// Placeholder pages (build these next; use ShadCN components)
import LoginPage from "@/pages/LoginPage";
import DashboardPage from "@/pages/DashboardPage";
import EmployeesPage from "@/pages/EmployeesPage";
import CreateEmployeePage from "@/pages/CreateEmployeePage";
import EditEmployeePage from "@/pages/EditEmployeePage";
import TransfersPage from "@/pages/TransfersPage";
import MainLayout from "@/components/layout/MainLayout";
import { Loader2 } from "lucide-react";

const ProtectedRoute = () => {
  const { user, loading } = useAuthContext();

  if (loading)
    return (
      <div className="min-h-screen flex items-center justify-center bg-[#f3f6f9]">
        <div className="flex flex-col items-center gap-4">
          <Loader2 className="w-10 h-10 text-[#003d7e] animate-spin" />
          <span className="text-sm font-bold text-slate-500 animate-pulse">
            מאמת פרטי גישה...
          </span>
        </div>
      </div>
    );

  return user ? <MainLayout /> : <Navigate to="/login" replace />;
};

export const router = createBrowserRouter([
  {
    path: "/login",
    element: <LoginPage />,
  },
  {
    element: <ProtectedRoute />,
    children: [
      { path: "/", element: <DashboardPage /> },
      { path: "/employees", element: <EmployeesPage /> },
      { path: "/employees/new", element: <CreateEmployeePage /> },
      { path: "/employees/edit/:id", element: <EditEmployeePage /> },
      { path: "/transfers", element: <TransfersPage /> },
    ],
  },
]);

export function AppRouter() {
  return <RouterProvider router={router} />;
}


==== FILE: src\types\api.types.ts ====
export interface ApiResponse<T = any> {
  success?: boolean;
  message?: string;
  error?: string;
  data?: T; // Sometimes data is direct, sometimes wrapped
}

export interface ApiError {
  success: false;
  error: string;
}

==== FILE: src\types\attendance.types.ts ====
export interface StatusType {
  id: number;
  name: string;
  color: string;
  is_presence: boolean;
}

export interface AttendanceLog {
  id: number;
  employee_id: number;
  status_type_id: number;
  status_name: string;
  color: string;
  start_datetime: string;
  end_datetime: string | null;
  note: string | null;
  reported_by: number | null;
}

export interface DashboardStat {
  status_name: string;
  count: number;
  color: string;
}

export interface BirthdayInfo {
  first_name: string;
  last_name: string;
  birth_date: string;
  day: number;
  month: number;
}

export interface DashboardData {
  stats: DashboardStat[];
  birthdays: BirthdayInfo[];
}

export interface CalendarDaySummary {
  date: string;
  status: string;
  color: string;
  count: number;
}

==== FILE: src\types\auth.types.ts ====
export interface AuthUser {
  id: number;
  first_name: string;
  last_name: string;
  personal_number: string;
  phone_number: string | null;
  must_change_password: boolean;
  is_admin: boolean;
  is_commander: boolean;
}

export interface LoginResponse {
  success: boolean;
  token: string;
  user: AuthUser;
}


==== FILE: src\types\employee.types.ts ====
export interface Employee {
  id: number;
  first_name: string;
  last_name: string;
  personal_number: string;
  phone_number: string | null;
  national_id?: string; // Often protected/not returned in lists
  
  // Dates (ISO Strings from backend)
  birth_date: string | null;
  enlistment_date: string | null;
  discharge_date: string | null;
  
  // Address/Emergency
  city: string | null;
  emergency_contact: string | null;
  
  // Permissions & Metadata
  is_commander: boolean;
  is_admin: boolean;
  security_clearance: number;
  police_license: boolean;
  
  // Hierarchy (Flattened for display)
  team_name: string | null;
  section_name: string | null;
  department_name: string | null;
  role_name?: string;
  
  // IDs for hierarchy
  team_id: number | null;
  role_id: number | null;
  
  // Current Status
  status_name: string;
  status_color: string;
}

export interface CreateEmployeePayload {
  first_name: string;
  last_name: string;
  personal_number: string;
  national_id: string;
  phone_number?: string;
  city?: string;
  birth_date?: string;
  enlistment_date?: string;
  discharge_date?: string;
  team_id?: number;
  role_id?: number;
  is_commander?: boolean;
  is_admin?: boolean;
  security_clearance?: number;
  police_license?: boolean;
  emergency_contact?: string;
}

// Hierarchy Tree Structure
export interface TeamNode {
  id: number;
  name: string;
  section_id: number;
}

export interface SectionNode {
  id: number;
  name: string;
  department_id: number;
  teams: TeamNode[];
}

export interface DepartmentNode {
  id: number;
  name: string;
  sections: SectionNode[];
}

==== FILE: src\types\transfer.types.ts ====
export type TargetType = 'team' | 'section' | 'department';
export type RequestStatus = 'pending' | 'approved' | 'rejected' | 'cancelled';

export interface TransferRequest {
  id: number;
  employee_id: number;
  requester_id: number;
  
  // Target details
  target_type: TargetType;
  target_id: number;
  target_name: string; // Calculated field from backend
  
  status: RequestStatus;
  notes: string | null;
  rejection_reason: string | null;
  
  // Timestamps
  created_at: string;
  resolved_at: string | null;
  resolved_by: number | null;
  
  // Joined fields for display
  employee_name?: string; // first_name + last_name
  first_name: string;
  last_name: string;
  personal_number: string;
  requester_first: string;
  requester_last: string;
  resolver_first?: string;
}

export interface CreateTransferPayload {
  employee_id: number;
  target_type: TargetType;
  target_id: number;
  notes?: string;
}

==== FILE: tsconfig.app.json ====
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2022",
    "useDefineForClassFields": true,
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "types": ["vite/client"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["src"]
}


==== FILE: tsconfig.json ====
{
  "files": [],
  "references": [
    {
      "path": "./tsconfig.app.json"
    },
    {
      "path": "./tsconfig.node.json"
    }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}

==== FILE: tsconfig.node.json ====
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2023",
    "lib": ["ES2023"],
    "module": "ESNext",
    "types": ["node"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}


==== FILE: vite.config.ts ====
import path from "path"
import tailwindcss from "@tailwindcss/vite"
import react from "@vitejs/plugin-react"
import { defineConfig } from "vite"

// https://vite.dev/config/
export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
})

